[{"authors":["seisman"],"categories":null,"content":"GMT中文社区建立者，同时也是中文社区的主要维护者。\n","date":1523059200,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1550016000,"objectID":"103d6b7b25331b68ac118d40e21d288d","permalink":"https://gmt-china.org/authors/seisman/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/seisman/","section":"authors","summary":"GMT中文社区建立者，同时也是中文社区的主要维护者。","tags":null,"title":"田冬冬","type":"authors"},{"authors":["王亮"],"categories":null,"content":"","date":1548201600,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1548201600,"objectID":"c9295ace1a83ebd09c9ce0d981d0ca17","permalink":"https://gmt-china.org/authors/%E7%8E%8B%E4%BA%AE/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E7%8E%8B%E4%BA%AE/","section":"authors","summary":"","tags":null,"title":"王亮","type":"authors"},{"authors":["eyou"],"categories":null,"content":"","date":1550275200,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1550275200,"objectID":"0b6ed2267ad9c7b5fc1019696fc103c8","permalink":"https://gmt-china.org/authors/eyou/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/eyou/","section":"authors","summary":"","tags":null,"title":"刘珠妹","type":"authors"},{"authors":["赵志远"],"categories":null,"content":"","date":1582070400,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1582070400,"objectID":"47630d5e819a299cc0ee2328a397dbcf","permalink":"https://gmt-china.org/authors/%E8%B5%B5%E5%BF%97%E8%BF%9C/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E8%B5%B5%E5%BF%97%E8%BF%9C/","section":"authors","summary":"","tags":null,"title":"赵志远","type":"authors"},{"authors":["李黎明"],"categories":null,"content":"","date":1548115200,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1548115200,"objectID":"cbd4d0bab659983ac4ce4ba265bea3b4","permalink":"https://gmt-china.org/authors/%E6%9D%8E%E9%BB%8E%E6%98%8E/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E6%9D%8E%E9%BB%8E%E6%98%8E/","section":"authors","summary":"","tags":null,"title":"李黎明","type":"authors"},{"authors":["SeisPider"],"categories":null,"content":"","date":1523059200,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1523059200,"objectID":"95e9dcf35cb2dc09bf1e3dc6faf20552","permalink":"https://gmt-china.org/authors/seispider/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/seispider/","section":"authors","summary":"","tags":null,"title":"肖晓","type":"authors"},{"authors":["王杰"],"categories":null,"content":"","date":1505606400,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1505606400,"objectID":"5a4344f2cc5135e24172554221ed61e0","permalink":"https://gmt-china.org/authors/%E7%8E%8B%E6%9D%B0/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E7%8E%8B%E6%9D%B0/","section":"authors","summary":"","tags":null,"title":"王杰","type":"authors"},{"authors":["邓山泉"],"categories":null,"content":"","date":1505606400,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1505606400,"objectID":"271025c4121a09b31bbe1ea60a523a02","permalink":"https://gmt-china.org/authors/%E9%82%93%E5%B1%B1%E6%B3%89/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E9%82%93%E5%B1%B1%E6%B3%89/","section":"authors","summary":"","tags":null,"title":"邓山泉","type":"authors"},{"authors":["lxrat"],"categories":null,"content":"","date":1491868800,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1491868800,"objectID":"6d23a625b8f605be39051613f7e7c1a7","permalink":"https://gmt-china.org/authors/lxrat/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/lxrat/","section":"authors","summary":"","tags":null,"title":"lxrat","type":"authors"},{"authors":["虎哥"],"categories":null,"content":"","date":1477958400,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1477958400,"objectID":"f32262aac7fa33d719962be021287771","permalink":"https://gmt-china.org/authors/%E8%99%8E%E5%93%A5/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E8%99%8E%E5%93%A5/","section":"authors","summary":"","tags":null,"title":"虎哥","type":"authors"},{"authors":["罗娜"],"categories":null,"content":"","date":1474934400,"expirydate":-62135596800,"kind":"taxonomy","lang":"zh","lastmod":1474934400,"objectID":"267152ba1d5f321c3fede9aa358cbf2a","permalink":"https://gmt-china.org/authors/%E7%BD%97%E5%A8%9C/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/%E7%BD%97%E5%A8%9C/","section":"authors","summary":"","tags":null,"title":"罗娜","type":"authors"},{"authors":["刘珠妹","赵志远"],"categories":["GMT技巧"],"content":" Visual Studio Code，简称vscode，是微软推出的一款免费、轻量且功能强大的编辑器。vscode除一键执行、语法高亮、分屏显示外，还可实现bat/bash脚本的顺滑切换运行、jpg/gif/pdf等成图结果实时预览、脚本报错信息显示，非常适合全平台下执行GMT脚本。\n注：vscode是跨平台软件，支持linux/Mac/Windows平台。本文以windows为例介绍其使用方法。\nvscode安装 vscode下载地址为：官网\n安装中建议勾选下图中两项，目的是添加右键打开的快捷方式。\n  安装完成之后有三种打开vscode的方式：\n 开始菜单中，直接找到Visual Studio Code应用程序打开。 直接在对应脚本或工作文件夹点击右键，选择“通过Code打开（Open with Code）”。 Ctrl+R打开运行窗口，输入code (前提是重启后，vscode已加入PATH路径)。  插件安装 vscode通过不同功能的插件实现代码的开发运行、图片文件的预览等等一系列功能。执行GMT脚本命令，推荐安装的插件包括：\n Code Runner 支持代码一键运行 vscode-pdf pdf预览插件  插件安装方式：打开Extensions扩展插件菜单，搜索对应插件，点击安装。安装成功之后，Install图标将变为齿轮，可点击该齿轮，修改插件属性。已安装启用的插件都可在Extension中查看设置。\n  为支持中文脚本，Code Runner中需要设置终端输出：\n在Extensions菜单中，点击Code Runner插件的齿轮图标，弹出菜单中选择“Extension Settings”，勾选“Run in Terminal”。另外勾选“ Save File Before Run”，可在执行脚本之前先自动保存。\n  vscode执行GMT脚本过程 GMT脚本建议在独立工作空间（文件夹）中执行，有以下两种方式：\n 在vscode中的Explore资源管理器菜单，选择“打开文件夹“：     或者，在文件夹上右键，选择“通过Code打开”：    含有中文的脚本需要设置编码为GBK，否则会出现乱码：点击右下角的编码按钮，再选择”重新打开编码（Reopen with Encoding）“，选择中文简体GBK编码。\n  执行脚本可选择脚本页面右上方三角符号（Alt+F1），脚本运行信息显示在下方Terminal终端窗体。若想同时预览生成结果，可增加编辑窗口（Split Editor），两个窗口分别显示脚本和运行结果。\n  若本机安装了Bash终端，vscode也可识别并自动选择bash终端来执行bash脚本。也可通过手工切换，或多个终端切换执行：\n  为提高编码效率，推荐使用快捷键进行代码注释、代码运行、窗格切换等操作。键盘单击F1，调出vscode的命令面板，输入”shortcut“检索出快捷键编辑命令：\n  我们可以查询或自定义众多快捷键，包括但不限于行注释（Add Line Comment/Remove Line Comment）、窗口分割（View: Split Editor Down/Right/Up/Left）、窗口关闭（View：Close Editor）等。\n代码高亮设置 这里介绍的方法为简易版，无法自行配置颜色，而且在不同的主题中代码高亮颜色会有区别。\n Windows用户下载 replace_vscode.bat及batchfile.tmLanguage.json文件后，双击replace_vscode.bat并重启vscode即可。\n Linux和Mac用户找到Microsoft VS Code\\resources\\app\\extensions\\shellscript\\syntaxes文件夹，下载 shell-unix-bash.tmLanguage.json 文件替换原文件后重启 VScode 即可。\n    ","date":1582070400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1582070400,"objectID":"de4017d6f83166687c87047225ee5463","permalink":"https://gmt-china.org/blog/vscode-usage/","publishdate":"2020-02-19T00:00:00Z","relpermalink":"/blog/vscode-usage/","section":"blog","summary":"Visual Studio Code，简称vscode，是微软推出的一款免费、轻量且功能强大的编辑器。vscode除一键执行、语法高亮、分屏显示外，还可实现bat/","tags":["Windows","Linux","Mac"],"title":"GMT脚本执行利器——VS Code","type":"post"},{"authors":["杨云飞"],"categories":null,"content":"本文绘制了北纬28°附近三江并流处的三维地形图以及地形剖面图，为读者展示了三维地形及地形剖面的绘制方法。\n主要用到 grdview 对三维地形进行呈现，grdtrack 获取测线地形数据并通过 psxy 绘制地形剖面。\n绘图效果如下：\n 三江并流处的三维地形及地形剖面图   绘图脚本如下：\n 3DView GMT6+sh   GMT5+sh   GMT5+bat    #!/usr/bin/env bash # 绘制三江并流区域三维地形及地形剖面图 gmt begin 3D_View png gmt grdcut -R98/100/27/29 @earth_relief_04m -Gtopo.grd #生成颜色文件 gmt grd2cpt topo.grd -Crainbow -Z # 生成三维地形图 gmt grdview topo.grd -R98/100/27/29/800/6000 -JM9c -JZ2c -Qi -C -p150/40 -N800+g150/150/150 -Bx0.5 -By0.5 -Bz3000+l\u0026#34;Elevation (m)\u0026#34; -BSEwnZ -X3 -Y14c # 在三维地形图上绘制红色测线 gmt grdtrack -Gtopo.grd -E98/28/100/28+i1k | gmt plot3d -JZ2c -W2p,red -p150/40 # 生成色标尺 gmt colorbar -Dx7/-1/15/0.3h -Bxf200a400 -By+l\u0026#34;meter\u0026#34; -I # 绘制地形剖面 gmt project -C98/28 -E100/28 -G0.1 -Q | gmt grdtrack -Gtopo.grd \u0026gt; gmt.xy gmt plot gmt.xy -i2,3 -R0/200/1500/5000 -JX15c/6c -Wthick,darkred -Ggray -L+y1500 -Y-9c gmt basemap -R0/200/1500/5000 -JX15c/6c -Bne gmt basemap -R0/200/1500/5000 -JX15c/6c -BWS -Bxa20f10+l\u0026#34;Distance along the @;red;line profile@;; (km)\u0026#34; -Bya1000f500g1000+l\u0026#34;Elevation (m)\u0026#34; rm topo.grd gmt.xy gmt end show  # 绘制三江并流区域三维地形及地形剖面图 R=98/100/27/29 J=M9c View=150/40 PS=3DView.ps gmt grdcut -R$R @earth_relief_04m.grd -Gtopo.grd # 生成临时颜色文件 gmt grd2cpt topo.grd -Crainbow -Z \u0026gt; tmp.cpt # 生成三维地形图 gmt grdview topo.grd -R$R/800/6000 -J$J -JZ2c -Qi -I -Ctmp.cpt -p150/40 -N800+g150/150/150 -Bx0.5 -By0.5 -Bz3000+l\u0026#34;Elevation (m)\u0026#34; -BSEwnZ -X3 -Y14c -K -P \u0026gt; $PS # 在三维地形图上绘制红色测线 gmt grdtrack -Gtopo.grd -E98/28/100/28+i1k | gmt psxyz -R -J -JZ2c -W2p,red -p$View -O -K \u0026gt;\u0026gt; $PS # 生成色标尺 gmt psscale -Dx7/-1/15/0.3h -Ctmp.cpt -Bxf200a400 -By+l\u0026#34;meter\u0026#34; -I -O -V -K \u0026gt;\u0026gt; $PS # 绘制地形剖面 gmt project -C98/28 -E100/28 -G0.1 -Q | gmt grdtrack -Gtopo.grd \u0026gt; gmt.xy gmt psxy gmt.xy -i2,3 -R0/200/1500/5000 -JX15c/6c -Wthick,darkred -Ggray -L+y1500 -Y-9c -O -K \u0026gt;\u0026gt; $PS gmt psbasemap -R -J -Bne -O -K \u0026gt;\u0026gt; $PS gmt psbasemap -R -J -BWS -Bxa20f10+l\u0026#34;Distance along the @;red;line profile@;; (km)\u0026#34; -Bya1000f500g1000+l\u0026#34;Elevation (m)\u0026#34; -O \u0026gt;\u0026gt; $PS gmt psconvert $PS -Tj -Z rm tmp.cpt gmt.* topo.grd  rem 绘制三江并流区域三维地形及地形剖面图 set R=98/100/27/29 set J=M9c set View=150/40 set PS=3DView.ps gmt grdcut -R%R% @earth_relief_04m.grd -Gtopo.grd rem 生成临时颜色文件 gmt grd2cpt topo.grd -Crainbow -Z \u0026gt; tmp.cpt rem 生成三维地形图 gmt grdview topo.grd -R%R%/800/6000 -J%J% -JZ2c -Qi -I -Ctmp.cpt -p150/40 -N800+g150/150/150 -Bx0.5 -By0.5 -Bz3000+l\u0026#34;Elevation (m)\u0026#34; -BSEwnZ -X3 -Y14c -K -P \u0026gt; %PS% rem 在三维地形图上绘制红色测线 gmt grdtrack -Gtopo.grd -E98/28/100/28+i1k | gmt psxyz -R -J -JZ2c -W2p,red -p%View% -O -K \u0026gt;\u0026gt; %PS% rem 生成色标尺 gmt psscale -Dx7/-1/15/0.3h -Ctmp.cpt -Bxf200a400 -By+l\u0026#34;meter\u0026#34; -I -O -V -K \u0026gt;\u0026gt; %PS% rem 绘制地形剖面 gmt project -C98/28 -E100/28 -G0.1 -Q | gmt grdtrack -Gtopo.grd \u0026gt; gmt.xy gmt psxy gmt.xy -i2,3 -R0/200/1500/5000 -JX15c/6c -Wthick,darkred -Ggray -L+y1500 -Y-9c -O -K \u0026gt;\u0026gt; %PS% gmt psbasemap -R -J -Bne -O -K \u0026gt;\u0026gt; %PS% gmt psbasemap -R -J -BWS -Bxa20f10+l\u0026#34;Distance along the @;red;line profile@;; (km)\u0026#34; -Bya1000f500g1000+l\u0026#34;Elevation (m)\u0026#34; -O \u0026gt;\u0026gt; %PS% gmt psconvert %PS% -Tj -Z del tmp.cpt gmt.* topo.grd pause   ","date":1566432000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1566432000,"objectID":"04b7cd5087f670eceb670907edc08470","permalink":"https://gmt-china.org/example/ex027/","publishdate":"2019-08-22T00:00:00Z","relpermalink":"/example/ex027/","section":"example","summary":"本文绘制了北纬28°附近三江并流处的三维地形图以及地形剖面图，为读者展示了三维地形及地形剖面的绘制方法。 主要用到 grdview 对三维地形进行呈现，grd","tags":null,"title":"绘制三维地形图","type":"post"},{"authors":["赵志远"],"categories":null,"content":" FMC.txt\n此文绘制了西太平洋俯冲带日本本州至中国东北段震中分布图以及俯冲带剖面上的地震分布，地震数据来自GCMT。\n plot_subduction GMT5+sh    #!/bin/bash PS=plot_subduction.ps grd=eastchina.grd FM=FMC.txt gmt set MAP_FRAME_WIDTH 2p gmt set MAP_FRAME_PEN 0.5p gmt set FONT_ANNOT_PRIMARY 8p gmt set FONT_LABEL 8p gmt set MAP_TICK_LENGTH 0.1c # 左图 # 绘制地形图 gmt grdcut @earth_relief_04m.grd -R122/149/30/48 -G$grd gmt grdimage $grd -R122/149/30/48 -JM12c -Ba -BNWes -Cglobe -I -K \u0026gt; $PS # 生成地震深度颜色表 echo 0 purple@30 70 purple@30 \u0026gt; depth.cpt echo 70 green@30 300 green@30 \u0026gt;\u0026gt; depth.cpt echo 300 red@30 800 red@30 \u0026gt;\u0026gt; depth.cpt # 绘制震源球，用不同颜色代表不同地震深度 gmt psmeca $FM -R -J -Sm0.3c -Zdepth.cpt -K -O \u0026gt;\u0026gt; $PS # 选取测线AB echo 126 42 A \u0026gt; tmp echo 146 40 B \u0026gt;\u0026gt; tmp # 绘制测线AB gmt psxy tmp -R -J -W1p,black,-.- -K -O \u0026gt;\u0026gt; $PS # 标注AB gmt pstext tmp -R -J -F+f10p -Dx0c/0.2c -K -O \u0026gt;\u0026gt; $PS # 绘制图例 gmt pslegend -R -J -F+gazure1@10 -DjBL+w2.2i/1.6i+l1.2 -C0.1i/0.1i -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF H 10 0 Earthquake Location L 6 0 C (2000-2010) G 0.1c L 8 0 C Magnitude(Mw) G 0.1c N 4 S 0.1i c 0.10i - black 0.2i 5 S 0.1i c 0.11i - black 0.2i 6 S 0.1i c 0.12i - black 0.2i 7 S 0.1i c 0.13i - black 0.2i 8 N 1 G 0.1c L 8 0 C Depth(km) G 0.1c N 3 L 7 0 R @;purple;0-70km@;; L 7 0 R @;green;70-300km@;; L 7 0 R @;red;300-660km@;; G 0.7c B globe 0.3i 0.08i+ml -Bxa10000+l\u0026#34;Topo(m)\u0026#34; --FONT_ANNOT_PRIMARY=6p --MAP_FRAME_WIDTH=1p EOF # 绘制三个不同深度的震源球放到图例相应位置 gmt psmeca -R -J -Sm0.3c -Zdepth.cpt -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 123 33.05 43 3.62 -0.44 -3.18 0.90 2.46 -1.35 24 0 0 126.6 33.05 171 -0.71 -0.26 0.96 0.44 0.81 -0.07 24 0 0 130.5 33.05 302 0.34 0.16 -0.50 -0.77 -4.57 -1.58 24 0 0 EOF # 右图上 # 沿测线AB绘制地形高度 gmt psbasemap -R0/15/-4000/6000 -JX10c/3c -Bya4000+l\u0026#34;Elevation (m)\u0026#34; -BW -X14c -Y6c -K -O \u0026gt;\u0026gt; $PS # 标注AB位置 gmt pstext -R -J -F+f10p+jBC -N -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 0 7000 A 15 7000 B EOF # 沿测线提取地形高度 gmt project -C126/42 -E146/40 -G0.1 | gmt grdtrack -G$grd \u0026gt; tmp # 将海平面以下填充为淡蓝色 gmt psxy -R -J -Wblack -Glightblue -L+y-4000 -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 0 0 15 0 EOF # 将地形填充为灰色 gmt psxy tmp -i2,3 -R -J -Wblack -Ggray -L+y-4000 -K -O \u0026gt;\u0026gt; $PS # 标注地理位置 gmt pstext -R -J -F+f10p -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 2 4000 NE China 12 4000 NE Honshu EOF gmt psbasemap -R -J -B0 -Bwnes -K -O \u0026gt;\u0026gt; $PS # 右图下 # 绘制剖面图 gmt psbasemap -R0/15/0/700 -JX10c/-4c -Bya200f100+l\u0026#34;Focal depth (km)\u0026#34; -Bxa2f1+l\u0026#34;Distance\u0026#34;+u\u0026#34;\\260\u0026#34; -BWS -Y-4.5c -K -O \u0026gt;\u0026gt; $PS gmt psbasemap -R -J -B0 -Bne -K -O \u0026gt;\u0026gt; $PS # 在剖面图上绘制震源球,剖面宽度为600 gmt pscoupe $FM -R -J -Q -L -Sm0.3c -Aa126/42/146/40/90/300/0/700f -Zdepth.cpt -K -O \u0026gt;\u0026gt; $PS # 绘制文字标注 echo 5 400 Benioff zone | gmt pstext -R -J -F+f12p,10,blue=~1p,gray+a30+jBL -K -O \u0026gt;\u0026gt; $PS # 绘制图例 gmt pslegend -R -J -DjBR+w1i+l1.5+o0.05i/0.04i -F+g255+p0.25p -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF H 8 4 Events (Mw\u0026gt;4.5) S 0.1i c 0.20 purple 0.1p,black 0.25i 0-70 km S 0.1i c 0.20 green 0.1p,black 0.25i 70-300 km S 0.1i c 0.20 red 0.1p,black 0.25i 300-700 km EOF gmt psconvert $PS -Tg -A0.5c -P -Z rm gmt.* depth.cpt tmp $grd   成图效果：\n","date":1552003200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1552003200,"objectID":"f0cf7407b3a2d393db30869fe32e33ec","permalink":"https://gmt-china.org/example/ex026/","publishdate":"2019-03-08T00:00:00Z","relpermalink":"/example/ex026/","section":"example","summary":"FMC.txt 此文绘制了西太平洋俯冲带日本本州至中国东北段震中分布图以及俯冲带剖面上的地震分布，地震数据来自GCMT。 plot_subduction GMT5+sh #!/bin/bash PS=plot_subduction.ps grd=eastchina.grd FM=FMC.txt gmt set MAP_FRAME_WIDTH 2p gmt set MAP_FRAME_PEN 0.5p gmt set FONT_ANNOT_PRIMARY","tags":null,"title":"绘制俯冲带地震分布","type":"post"},{"authors":["杨云飞","陆好健"],"categories":null,"content":" yn.xyz\n此文是利用Sentinel-1数据，基于InSAR方法获取断裂带及邻近区域构造地壳形变速率，其方向为LOS雷达的视线方向 yn.xyz格式数据包含经度纬度和形变速率信息，是由sarscape软件中SBAS小基线集模块处理生成shape文件获得。\n InSAR GMT5+sh    #!/bin/bash  #定义图件基本参数 PS=InSAR.ps R=101/103.7/22/25 J=M10c B1=a1 B2=SWen # DEM数据获取及光照梯度计算 # earth_relief_01m.grd 可从https://mirrors.ustc.edu.cn/gmt/data/下载得到 gmt grdcut earth_relief_01m.grd -R$R -Gtopo.grd gmt grdgradient topo.grd -Ne0.8 -A100 -Gtopo.grad # 制作灰色色标文件g.cpt gmt makecpt -Cgray -T-7000/7000/1000 -Z \u0026gt;g.cpt # 开始绘图 gmt psxy -R$R -J$J -K -T -P \u0026gt; $PS # 绘制灰色地形图，使用的色标文件为上面生产的g.cpt gmt grdimage topo.grd -Itopo.grad -R$R -J$J -B$B1 -B$B2 -Cg.cpt -E100 -K -O \u0026gt;\u0026gt; $PS # 把InSAR获取的点数据yn.xyz转化为网格数据yn.grd,并进一步获得对应的色标文件my.cpt gmt xyz2grd yn.xyz -Gyn.grd -I0.4m -R # 自定义一个模板色标文件 HSV值具体含义详见： # https://docs.gmt-china.org/latest/basis/color/#hsv cat \u0026lt;\u0026lt; EOF \u0026gt; template.cpt -50 100-1-1 -30 100-1-1 -30 90-1-1 -10 90-1-1 -10 60-1-1 10 60-1-1 10 30-1-1 30 30-1-1 30 20-1-1 50 20-1-1 EOF # 根据模板色标文件template.cpt生成本图使用的色标文件my.cpt gmt grd2cpt yn.grd -Ctemplate.cpt \u0026gt; my.cpt # 绘制InSAR形变数据转化的网格文件（-Q将值为NaN的节点处设置为透明色） gmt grdimage yn.grd -J$J -Cmy.cpt -Q -K -O \u0026gt;\u0026gt; $PS #在左下角的色标后面插入一个白色背景框 gmt psbasemap -R$R -J$J -K -O -DjBL+w2c/4c -F+gwhite \u0026gt;\u0026gt; $PS # 绘制色标尺 gmt psscale -R$R -J$J -DjBL+w3c/0.5c+o0.3c/0.3c -Cmy.cpt -Bx20 -By+l\u0026#39;mm/yr\u0026#39; -K -O \u0026gt;\u0026gt; $PS #结束绘图并转换为PNG图片 gmt psxy -R$R -J$J -O -T \u0026gt;\u0026gt; $PS gmt psconvert $PS -A -Tg rm *.cpt *.grd *.grad gmt.*   成图效果：\n","date":1551139200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1551139200,"objectID":"155e94e7a24e6785659200c33f78250c","permalink":"https://gmt-china.org/example/ex025/","publishdate":"2019-02-26T00:00:00Z","relpermalink":"/example/ex025/","section":"example","summary":"yn.xyz 此文是利用Sentinel-1数据，基于InSAR方法获取断裂带及邻近区域构造地壳形变速率，其方向为LOS雷达的视线方向 yn.xyz格式数","tags":null,"title":"绘制InSAR形变速率场","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":"  CN-border-La.dat | truck.png | cloud.jpg | land.png\n论文Top区管理委温馨提示:\n 软件千万种，精通某一种\n作图不规范，毕业两行泪\n 随着《流浪地球》这一硬核科幻巨作的热播，众网友也是见仁见智纷纷从各自领域去 考据其细节。热衷于作图的你们是否在一掠而过的镜头中发现了一个酷炫三维轨迹特效呢？ 就是这个⬇⬇⬇⬇\n忽略这恢弘的风雪，我们可以把这个场景描述为“地形起伏叠加矢量区界限的行车轨迹三维图”。 如果硬要加个难度值，那就是地形被真实地貌（冰雪）覆盖。\n下面我们使用GMT来模拟这个场景，所用GMT模块包括： grdcut，grdfilter，grdedit，grdview，grdtrack， psxyz，psxy，pstext，psimage\n WanderingView GMT6+sh   GMT6+bat   GMT5+sh   GMT5+bat    # 三维地形轨迹图(真三维版) R=110/125/30/45 J=M10c P=135/25 gmt begin WanderingView png gmt set MAP_FRAME_TYPE plain # 1. DEM数据获取 # earth_relief_01m.grd 可从https://mirrors.ustc.edu.cn/gmt/data/下载得到 gmt grdcut @earth_relief_01m.grd -R%R% -Gtopo.grd # 2. 中值滤波平滑地形，平滑直径50km gmt grdfilter topo.grd -Fm50 -D4 -Gtopo_filter.grd # 3. 绘制三维地形，叠加jpg纹理。该句仅适用于GMT6，GMT5下需将jpg的RGB三波段分解再用 gmt grdview topo_filter.grd -R%R%/-500/3000 -J%J% -JZ2c -Qi600 -I -Gcloud.jpg -p$P # 4.在地形上叠加行政区界线，需要先grdtrack获取线条所在高程，再用plot3d画出。 # 政区边界在地图边缘被截断，为避免线条不连续，采用-g选项忽略经纬度跨度大于0.5°的点。 gmt grdtrack -Gtopo_filter.grd CN-border-La.dat | gmt plot3d -JZ2c -W0.5p,white -p$P -N -gx0.5 -gy0.5 # 5.绘制行车轨迹（116.2°E,40.3°N）至（117°E,36°N） gmt grdtrack -Gtopo_filter.grd -E116.2/40.3/117/36+i10k | gmt plot3d -JZ2c -W2p,red -p$P # 6.叠加起止点，五角星标识 echo 116.2 40.3 | gmt grdtrack -Gtopo_filter.grd | gmt plot3d -JZ2c -Sa0.5 -Gred -Wblack -p$P echo 116.33 35.23 | gmt grdtrack -Gtopo_filter.grd | gmt plot3d -JZ2c -Sa0.5 -Gred -Wblack -p$P # 7.插两个小旗子 # 因为GMT不支持三维符号(立方体和柱图除外)，所以这里是\u0026#34;伪三维\u0026#34;，在直角坐标系下手工确定二维符号位置 echo 5.9 3.2 | gmt plot -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p echo 3.95 2.2 | gmt plot -SkLFLAG/1.5 -Gred -W0.8p # 8. 写文字标注,用同色轮廓线显示加粗效果 echo 5.9 3.2 北京 | gmt text -F+f8p,STFangsong-Light--UniGB-UTF8-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c echo 3.95 2.2 济宁 | gmt text -F+f8p,STFangsong-Light--UniGB-UTF8-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c # 9. 放个小车 gmt image truck.png -Dg4.5/2.5+w0.8c+jCM gmt end  REM 三维地形轨迹图(真三维版) set R=110/125/30/45 set J=M10c set P=135/25 gmt begin gmt figure WanderingView png C-sFONTPATH=C:\\windows\\fonts gmt set MAP_FRAME_TYPE plain REM 1. DEM数据获取 REM earth_relief_01m.grd 可从https://mirrors.ustc.edu.cn/gmt/data/下载得到 gmt grdcut @earth_relief_01m.grd -R%R% -Gtopo.grd REM 2. 中值滤波平滑地形，平滑直径50km gmt grdfilter topo.grd -Fm50 -D4 -Gtopo_filter.grd REM 3. 绘制三维地形，叠加jpg纹理。该句仅适用于GMT6，GMT5下需将jpg的RGB三波段分解再用 gmt grdview topo_filter.grd -R%R%/-500/3000 -J%J% -JZ2c -Qi600 -I -Gcloud.jpg -p%P% REM 4.在地形上叠加行政区界线，需要先grdtrack获取线条所在高程，再用plot3d画出。 REM 政区边界在地图边缘被截断，为避免线条不连续，采用-g选项忽略经纬度跨度大于0.5°的点。 gmt grdtrack -Gtopo_filter.grd CN-border-La.dat | gmt plot3d -JZ2c -W0.5p,white -p%P% -N -gx0.5 -gy0.5 REM 5.绘制行车轨迹（116.2°E,40.3°N）至（117°E,36°N） gmt grdtrack -Gtopo_filter.grd -E116.2/40.3/117/36+i10k | gmt plot3d -JZ2c -W2p,red -p%P% REM 6.叠加起止点，五角星标识 echo 116.2 40.3 | gmt grdtrack -Gtopo_filter.grd | gmt plot3d -JZ2c -Sa0.5 -Gred -Wblack -p%P% echo 116.33 35.23 | gmt grdtrack -Gtopo_filter.grd | gmt plot3d -JZ2c -Sa0.5 -Gred -Wblack -p%P% REM 7.插两个小旗子 REM 因为GMT不支持三维符号(立方体和柱图除外)，所以这里是\u0026#34;伪三维\u0026#34;，在直角坐标系下手工确定二维符号位置 echo 5.9 3.2 | gmt plot -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p echo 3.95 2.2 | gmt plot -SkLFLAG/1.5 -Gred -W0.8p REM 8. 写文字标注,用同色轮廓线显示加粗效果 echo 5.9 3.2 北京 | gmt text -F+f8p,STFangsong-Light--GB-EUC-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c echo 3.95 2.2 济宁 | gmt text -F+f8p,STFangsong-Light--GB-EUC-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c REM 9. 放个小车 gmt image truck.png -Dg4.5/2.5+w0.8c+jCM gmt end  # 三维地形轨迹图(真三维版) R=110/125/30/45 J=M10c P=135/25 PS=WanderingView.ps gmt set MAP_FRAME_TYPE plain # 1. DEM数据获取及光照梯度计算 # earth_relief_01m.grd 可从https://mirrors.ustc.edu.cn/gmt/data/下载得到 gmt grdcut @earth_relief_01m.grd -R$R -Gtopo.grd # 中值滤波平滑地形，平滑直径50km gmt grdfilter topo.grd -Fm50 -D4 -Gtopo_filter.grd # 2. 纹理图像分解为rgb三波段 # 此处需要GDAL支持，具体参考https://gmt-china.org/blog/gdal-ogr/ gdal_translate -of GMT cloud.jpg -b 1 cloud_r.nc gdal_translate -of GMT cloud.jpg -b 2 cloud_g.nc gdal_translate -of GMT cloud.jpg -b 3 cloud_b.nc # 3. 纹理图像添加空间坐标信息 gmt grdedit cloud_r.nc -fg -R$R gmt grdedit cloud_g.nc -fg -R$R gmt grdedit cloud_b.nc -fg -R$R # 4. 绘制三维地形，叠加jpg纹理 gmt grdview topo_filter.grd -R$R/-500/3000 -J$J -JZ2c -Qi600 -I -Gcloud_r.nc -Gcloud_g.nc -Gcloud_b.nc -p$P -K \u0026gt; $PS # 5.在地形上叠加行政区界线，需要先grdtrack获取线条所在高程，再用psxyz画出。 # 政区边界在地图边缘被截断，为避免线条不连续，采用-g选项忽略经纬度跨度大于0.5°的点。 gmt grdtrack -Gtopo_filter.grd CN-border-La.dat | gmt psxyz -R -J -JZ2c -W0.5p,white -p$P -O -K -N -gx0.5 -gy0.5\u0026gt;\u0026gt; $PS # 6.绘制行车轨迹（116.2°E,40.3°N）至（117°E,36°N） gmt grdtrack -Gtopo_filter.grd -E116.2/40.3/117/36+i10k | gmt psxyz -R -J -JZ2c -W2p,red -p$P -O -K \u0026gt;\u0026gt; $PS # 7.叠加起止点，五角星标识 echo 116.2 40.3 | gmt grdtrack -Gtopo_filter.grd | gmt psxyz -R -J -JZ2c -Sa0.5 -Gred -Wblack -p$P -K -O \u0026gt;\u0026gt; $PS echo 116.33 35.23 | gmt grdtrack -Gtopo_filter.grd | gmt psxyz -R -J -JZ2c -Sa0.5 -Gred -Wblack -p$P -K -O \u0026gt;\u0026gt; $PS # 8.插两个小旗子 # 因为GMT不支持三维符号(立方体和柱图除外)，所以这里是\u0026#34;伪三维\u0026#34;，在直角坐标系下手工确定二维符号位置 echo 5.9 3.2 | gmt psxy -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p -O -K \u0026gt;\u0026gt; $PS echo 3.95 2.2 | gmt psxy -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p -O -K \u0026gt;\u0026gt; $PS # 9. 写文字标注,用同色轮廓线显示加粗效果 echo 5.9 3.2 北京 | gmt pstext -R -J -F+f8p,STFangsong-Light--UniGB-UTF8-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c -O -K \u0026gt;\u0026gt; $PS echo 3.95 2.2 济宁 | gmt pstext -R -J -F+f8p,STFangsong-Light--UniGB-UTF8-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c -O -K \u0026gt;\u0026gt; $PS # 10. 放个小车 gmt psimage truck.png -R -J -Dg4.5/2.5+w0.8c+jCM -O -K \u0026gt;\u0026gt; $PS gmt psxy -R -J -O -T \u0026gt;\u0026gt; $PS gmt psconvert $PS -Tg -P -Au rm cloud_*.* gmt.*  REM 三维地形轨迹图(真三维版) set R=110/125/30/45 set J=M10c set P=135/25 set PS=WanderingView.ps gmt set MAP_FRAME_TYPE plain REM 1. DEM数据获取及光照梯度计算 REM earth_relief_01m.grd 可从https://mirrors.ustc.edu.cn/gmt/data/下载得到 gmt grdcut @earth_relief_01m.grd -R%R% -Gtopo.grd REM 中值滤波平滑地形，平滑直径50km gmt grdfilter topo.grd -Fm50 -D4 -Gtopo_filter.grd REM 2. 纹理图像分解为rgb三波段 REM 此处需要GDAL支持，具体参考https://gmt-china.org/blog/gdal-ogr/ gdal_translate -of GMT cloud.jpg -b 1 cloud_r.nc gdal_translate -of GMT cloud.jpg -b 2 cloud_g.nc gdal_translate -of GMT cloud.jpg -b 3 cloud_b.nc REM 3. 纹理图像添加空间坐标信息 gmt grdedit cloud_r.nc -fg -R%R% gmt grdedit cloud_g.nc -fg -R%R% gmt grdedit cloud_b.nc -fg -R%R% REM 4. 绘制三维地形，叠加jpg纹理 gmt grdview topo_filter.grd -R%R%/-500/3000 -J%J% -JZ2c -Qi600 -I -Gcloud_r.nc,cloud_g.nc,cloud_b.nc -p%P% -K \u0026gt; %PS% REM 5.在地形上叠加行政区界线，需要先grdtrack获取线条所在高程，再用psxyz画出。 REM 政区边界在地图边缘被截断，为避免线条不连续，采用-g选项忽略经纬度跨度大于0.5°的点。 gmt grdtrack -Gtopo_filter.grd CN-border-La.dat | gmt psxyz -R -J -JZ2c -W0.5p,white -p%P% -O -K -N -gx0.5 -gy0.5\u0026gt;\u0026gt; %PS% REM 6.绘制行车轨迹（116.2°E,40.3°N）至（117°E,36°N） gmt grdtrack -Gtopo_filter.grd -E116.2/40.3/117/36+i10k | gmt psxyz -R -J -JZ2c -W2p,red -p%P% -O -K \u0026gt;\u0026gt; %PS% REM 7.叠加起止点，五角星标识 echo 116.2 40.3 | gmt grdtrack -Gtopo_filter.grd | gmt psxyz -R -J -JZ2c -Sa0.5 -Gred -Wblack -p%P% -K -O \u0026gt;\u0026gt; %PS% echo 116.33 35.23 | gmt grdtrack -Gtopo_filter.grd | gmt psxyz -R -J -JZ2c -Sa0.5 -Gred -Wblack -p%P% -K -O \u0026gt;\u0026gt; %PS% REM 8.插两个小旗子 REM 因为GMT不支持三维符号(立方体和柱图除外)，所以这里是\u0026#34;伪三维\u0026#34;，在直角坐标系下手工确定二维符号位置 echo 5.9 3.2 | gmt psxy -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p -O -K \u0026gt;\u0026gt; %PS% echo 3.95 2.2 | gmt psxy -R0/10/0/10 -JX15c -SkLFLAG/1.5 -Gred -W0.8p -O -K \u0026gt;\u0026gt; %PS% REM 9. 写文字标注,用同色轮廓线显示加粗效果 echo 5.9 3.2 北京 | gmt pstext -R -J -F+f8p,STFangsong-Light--GB-EUC-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c -O -K \u0026gt;\u0026gt; %PS% echo 3.95 2.2 济宁 | gmt pstext -R -J -F+f8p,STFangsong-Light--GB-EUC-H,red=0.5p,red -Gwhite@50 -D-0.3c/0.2c -O -K \u0026gt;\u0026gt; %PS% REM 10. 放个小车 gmt psimage truck.png -R -J -Dg4.5/2.5+w0.8c+jCM -O -K \u0026gt;\u0026gt; %PS% gmt psxy -R -J -O -T \u0026gt;\u0026gt; %PS% gmt psconvert %PS% -Tg -P -A -C-sFONTPATH=C:\\windows\\fonts del cloud_*.* del gmt.*   成图效果：\n为了模拟风雪场景，上图选了一张神之模糊的云海图（cloud.jpg）作为地貌纹理。使用卫星影像（land.png）替代上文，成图效果如下：\n延展： 将不同视角的图片制作为gif，就可以做出三维漫游的效果。具体可参考 gallery/anim04。 如有兴趣，欢迎来稿探讨，先放一张效果图抛砖引玉。\n","date":1550275200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1550275200,"objectID":"d2bf4013dda9fa094a3d5fde75abe4bf","permalink":"https://gmt-china.org/example/ex024/","publishdate":"2019-02-16T00:00:00Z","relpermalink":"/example/ex024/","section":"example","summary":"随着《流浪地球》这一硬核科幻巨作的热播，众网友也是见仁见智纷纷从各自领域去 考据其细节。热衷于作图的你们是否在一掠而过的镜头中发现了一个酷炫三维轨迹特效呢？","tags":null,"title":"《流浪地球》之GMT绘制三维地形轨迹图","type":"post"},{"authors":["王亮"],"categories":null,"content":"如果绘制的地图区域范围很小，读者可能不清楚所画区域的位置。 这时，往往需要在地图的一角，绘制一个图中图表示区域的位置。\n解决这个问题的整体思路应该是在原图的合适位置画出一个底图，然后在这个新底图上绘图。 要实现这个思路，有几个问题需要解决：\n 把新底图放到原图的正确位置 新底图上的绘图命令必须要能知道新底图的位置信息  gmt 的 psbasemap 模块可以实现这一个需求。 绘图脚本：\n draw-inset-map GMT5+sh    #!/bin/bash  PS=draw-inset-map.ps R=139.2E/140.5E/34.8N/36N gmt pscoast -R$R -JM18c -Baf -BWSne -Df -W2p -A1000 -Glightbrown -Sazure1 --FORMAT_GEO_MAP=dddF -P -K \u0026gt; $PS gmt psbasemap -R -J -DjTL+w6c/7c+o0.2c/0.2c+stmp -F+gwhite+p1p+c0.1c+s -O -K \u0026gt;\u0026gt; $PS read x0 y0 w h \u0026lt; tmp # x0 和 y0 是图中图左下角的坐标 # w 是图中图的宽度 # h 是图中图的高度 gmt pscoast -R129E/146E/30N/46N -JM$w -Df -W1p -A1000 -Glightbrown -Sazure1 -K -O -X$x0 -Y$y0 \u0026gt;\u0026gt; $PS gmt psbasemap -R -J -D$R -F+p2p,blue -O \u0026gt;\u0026gt; $PS gmt psconvert $PS -A -Tg rm tmp gmt.history $PS   绘图效果如下:\n 东京湾   psbasemap 就是在地图上绘制一个新底图（map inset box）。 -D 选项就是指定新底图的位置，并输出新底图的位置信息，以便后续的命令能获得。 -F 选项则是为这个新底图绘制一个矩形的边界（使用 -D 选项后就必须使用 -F 选项）。 下面说明脚本中这两个选项的具体含义。\n-DjTL+w6c/7c+o0.2c/0.2c+stmp\n -DjTL 定义的是图框放置的位置。TL 表示顶部的左边。 具体请读者了解 gmt 的定位概念。 +w6c/7c 表示图框的大小为 6 厘米乘以 7 厘米。 +o0.2c/0.2i 设置图框水平偏离 0.2c，垂直偏离 0.2c。 +stmp，把图中图的左下角的位置和尺寸输出到文件 tmp 中。后面绘制大地图需要使用其中的参数。  -F+gwhite+p1p+c0.1c+s\n +gwhite表示填充白色 +p1p设置画笔的宽度为1p +c0.1c是图中图中的图形和边框之间的空隙间隔。 +s绘制阴影  图中图内的内容就用 gmt 相应的模块绘制就是，和平时唯一的差别就是要根据 -D 选项输出的位置信息进行调整。\n","date":1548201600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1548201600,"objectID":"13153237dbac762c207ea0df885e72c7","permalink":"https://gmt-china.org/example/ex023/","publishdate":"2019-01-23T00:00:00Z","relpermalink":"/example/ex023/","section":"example","summary":"如果绘制的地图区域范围很小，读者可能不清楚所画区域的位置。 这时，往往需要在地图的一角，绘制一个图中图表示区域的位置。 解决这个问题的整体思路应","tags":null,"title":"绘制图中图","type":"post"},{"authors":["李黎明"],"categories":null,"content":"  三角图解文件 | 曲线坐标数据\n三角图解有很多种，这里仅讨论一下地球化学上常用的地球化学图解用 GMT 的实现方法。 该三角图解引自Mukul R. Bhatia \u0026amp; Keith A.W. Crook, 1986, Contrib Mineral Petrol。原图如下：\n Th,Sc,La三角图解    三个端元值分别为 Th、Sc 和 La含量经归一化后的值，即将三元素含量换算成各自占三者的百分含量。 以元素 Th 为例，Th\u0026rsquo;=100*Th/(Th+Sc+La)，Sc 及 La 计算方法相同。\n A，B，C，D 分别代表不同的大地构造环境，A-大洋岛弧，B-大陆岛弧，C-活动大陆边缘，D-被动大陆边缘\n  实现三角框架和数据投点 psternary 模块可以实现三角框架和数据投点，代码如下：\n ternary GMT5+sh    #!/bin/bash R=0/100/0/100/0/100 J=X8c PS=ternary.ps data=ternary.csv # 数据文件 Th=1; Sc=2; La=3; Zr=4; Co=5 # 数据所在表格列号 color=6 # 颜色所在的列号 symbol=7 # 符号所在的列号 # cpt cat \u0026gt; color.cpt \u0026lt;\u0026lt; EOF 1 red 2 red 2 blue 3 blue 3 green 4 green 4 brown 5 brown EOF gmt set PS_CHAR_ENCODING Standard+ gmt set PS_PAGE_ORIENTATION landscape gmt set FONT_LABEL = 10p,4 # 坐标轴标签 gmt set MAP_FRAME_PEN = 0.3p # 图框宽度 gmt set MAP_LABEL_OFFSET = 2p # Th,Sc,La离顶点的距离 # 三角图解判断曲线引自 Mukul R. Bhatia and Keith A.W. Crook，1986, Contrib Mineral Petrol (1986) ################################## Th-Sc-La图解 ##################################### # 线段标注数为1，内容为空 gmt psternary Th-Sc-La.txt -J$J -R$R -Bf -Sqn1:+l\u0026#34;\u0026#34; -W0.4p,black,- -X1c -K -P \u0026gt; $PS gmt psternary -J$J -R$R -Bf -Sl0.2c+f8p,4+t\u0026#34;A\u0026#34; -Gblack -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 10 60 30 A EOF gmt psternary -J$J -R$R -Bf -Sl0.2c+f8p,4+t\u0026#34;B\u0026#34; -Gblack -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 20 30 50 B EOF gmt psternary -J$J -R$R -Bf -Sl0.2c+f8p,4+t\u0026#34;C;D\u0026#34; -Gblack -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 30 10 60 C;D EOF # 原数据作归一化；三角图解端元顺序：下左-下右-上 # 数据前3列为三个端元值，第4列为颜色值，第5列为相应的符号; 命令中-S仅给出符号大小 awk -v Th=$Th -v Sc=$Sc -v La=$La -v color=$color -v symbol=$symbol -F\u0026#34;[, ]+\u0026#34; \u0026#39;NR\u0026gt;=2 {print \\ $Th*100/($Th+$Sc+$La), $Sc*100/($Th+$Sc+$La), $La*100/($Th+$Sc+$La), $color, $symbol}\u0026#39; \\ \t$data | gmt psternary -J$J -R$R -Bf -S0.2c -Ccolor.cpt -LTh/Sc/La -O \u0026gt;\u0026gt; $PS gmt psconvert -A -P -Tg $PS rm color.cpt gmt.*   绘图效果如下:\n Th,Sc,La三角图解   其中，判断曲线使用 Engauge Digitizer 软件自动获得。\n","date":1548115200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1548115200,"objectID":"0a4abdedf449d35423a0e48bb19e316b","permalink":"https://gmt-china.org/example/ex022/","publishdate":"2019-01-22T00:00:00Z","relpermalink":"/example/ex022/","section":"example","summary":"三角图解文件 | 曲线坐标数据 三角图解有很多种，这里仅讨论一下地球化学上常用的地球化学图解用 GMT 的实现方法。 该三角图解引自Mukul R. Bhatia \u0026amp; Keith A.W. Crook, 1986,","tags":null,"title":"地球化学三角图解的绘制","type":"post"},{"authors":["王亮"],"categories":null,"content":" 陆地地形文件 | 海底地形文件 | 配色文件\n夏威夷岛是夏威夷群岛的最大岛。 现在我们想绘制檀香山的地形。我们希望地形的精度尽可能的高，以得到最清晰的地图。 目前，免费开放的最精确的地形文件的精度是 1 弧秒，即 30m 一个采样点，但只包含陆地。 包含了海洋的地形的精度最高是 15s。 这样，我们就需要用 1 弧秒的数据来绘制地形，15 弧秒的数据来绘制海底。\n思路：首先用 15 弧秒的文件绘制檀香山及周围海域（既有陆地，又有海洋）的地形。 然后，用 1 弧秒的数据去绘制陆地部分的地形。因为 1s 的数据后绘制，就把前面不太 准确的 15 弧秒陆地地形覆盖了。要实现这个思路的关键在于绘制 1 弧秒数据的时候， 怎样才能只覆盖陆地部分，而保留海洋部分。实现方法是：gmt 的 coast 模块提供了一个 clip 的功能，实现用海岸线进行裁剪。具体请看代码中的注释:\n hawaii GMT6+sh   GMT5+sh    #!/bin/bash gmt begin hawaii png landdata=hawaii_land_1s.grd oceandata=hawaii_ocean_15s.grd cpt=hawaii.cpt # 设置光照 gmt grdgradient $landdata -Ne0.7 -A315 -G$landdata.light gmt grdgradient $oceandata -Ne0.7 -A315 -G$oceandata.light # 底图 gmt basemap -R-156.5/-154.5/18.5/20.5 -JM15c -Baf -BWSEN # 地形 # 海洋部分 gmt grdimage $oceandata -I$oceandata.light -C$cpt # 陆地部分 gmt coast -Da -Gc # 用最高精度（-Da）的海岸线划出裁剪范围（-Gc） gmt grdimage $landdata -I$landdata.light -C$cpt # 绘制陆地部分地形 gmt coast -Q # 关闭裁剪 rm *.light gmt end  #!/bin/bash PS=hawaii.ps landdata=hawaii_land_1s.grd oceandata=hawaii_ocean_15s.grd cpt=hawaii.cpt # 设置光照 gmt grdgradient $landdata -Ne0.7 -A315 -G$landdata.light gmt grdgradient $oceandata -Ne0.7 -A315 -G$oceandata.light # 底图 gmt psbasemap -R-156.5/-154.5/18.5/20.5 -JM15c -Baf -BWSEN -K -P \u0026gt; $PS # 地形 # 海洋部分 gmt grdimage $oceandata -R -J -I$oceandata.light -C$cpt -O -K \u0026gt;\u0026gt; $PS # 陆地部分 gmt pscoast -R -J -Da -Gc -O -K \u0026gt;\u0026gt; $PS # 用最高精度（-Da）的海岸线划出裁剪范围（-Gc） gmt grdimage $landdata -R -J -I$landdata.light -C$cpt -O -K \u0026gt;\u0026gt; $PS # 绘制陆地部分地形 gmt pscoast -O -K -Q \u0026gt;\u0026gt; $PS # 关闭裁剪 # 文件尾 gmt psxy -R -J -T -O \u0026gt;\u0026gt; $PS # 输出 gmt psconvert $PS -A -Tg rm $PS *.light gmt.history   绘图效果如下:\n 夏威夷檀香山   ","date":1536105600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1536105600,"objectID":"4eb58825be4abf3d025bec55697b10a8","permalink":"https://gmt-china.org/example/ex021/","publishdate":"2018-09-05T00:00:00Z","relpermalink":"/example/ex021/","section":"example","summary":"陆地地形文件 | 海底地形文件 | 配色文件 夏威夷岛是夏威夷群岛的最大岛。 现在我们想绘制檀香山的地形。我们希望地形的精度尽可能的高，以得到最清晰的地","tags":null,"title":"用两套地形数据绘制夏威夷岛地形起伏图","type":"post"},{"authors":["赵志远"],"categories":null,"content":" 速度模型数据\n本文展示了如何绘制地壳速度模型图。示例数据分为 6 列，分别为 地层厚度，S波速度， P波速度，密度，S波Q值和P波Q值，绘图脚本只用到了前 3 列数据。\n绘图脚本如下:\n draw-model GMT6+sh   GMT5+sh   GMT5+bat    #!/bin/bash gmt begin model png gmt set MAP_TICK_LENGTH_PRIMARY -0.1c model=model.txt gmt basemap -R0/10/0/50 -JX8c/-10c -Bx1+l\u0026#34;Velocity (km/s)\u0026#34; -By10+l\u0026#34;Depth (km)\u0026#34; -BWS+t\u0026#39;Crust model\u0026#39; gmt basemap -Ben -B0 # 利用 awk 计算每一层上下边界的深度，提取该层的速度 # 每一层上边界的深度即为前几层的厚度累加，下边界的深度为上边界的深度加该层层厚 # Vs awk \u0026#39;BEGIN{d1=0;d2=0}{d2=d2+$1;print $2,d1;print $2,d2;d1=d2;}\u0026#39; $model | gmt plot -W1.5p,blue # Vp awk \u0026#39;BEGIN{d1=0;d2=0}{d2=d2+$1;print $3,d1;print $3,d2;d1=d2;}\u0026#39; $model | gmt plot -W1.5p,green,6_2:2 gmt legend -DjBL+w2c+o0.2c/0.2c -F \u0026lt;\u0026lt; EOF S 0.4c - 0.5c - 1p,blue 1c @;blue;Vs@;; S 0.4c - 0.5c - 1p,green,6_2:0 1c @;green;Vp@;; EOF gmt end  #!/bin/bash gmt set MAP_TICK_LENGTH_PRIMARY -0.1c model=model.txt PS=model.ps gmt psbasemap -R0/10/0/50 -JX8c/-10c -Bx1+l\u0026#34;Velocity (km/s)\u0026#34; -By10+l\u0026#34;Depth (km)\u0026#34; \\  -BWS+t\u0026#39;Crust model\u0026#39; -K -P \u0026gt; $PS gmt psbasemap -R -J -Ben -B0 -K -O \u0026gt;\u0026gt; $PS # 利用 awk 计算每一层上下边界的深度，提取该层的速度 # 每一层上边界的深度即为前几层的厚度累加，下边界的深度为上边界的深度加该层层厚 # Vs awk \u0026#39;BEGIN{d1=0;d2=0}{d2=d2+$1;print $2,d1;print $2,d2;d1=d2;}\u0026#39; $model | \\ gmt psxy -R -J -W1.5p,blue -K -O \u0026gt;\u0026gt; $PS # Vp awk \u0026#39;BEGIN{d1=0;d2=0}{d2=d2+$1;print $3,d1;print $3,d2;d1=d2;}\u0026#39; $model | \\ gmt psxy -R -J -W1.5p,green,6_2:2 -K -O \u0026gt;\u0026gt; $PS gmt pslegend -R -J -DjBL+w2c+o0.2c/0.2c -F -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt;EOF S 0.4c - 0.5c - 1p,blue 1c @;blue;Vs@;; S 0.4c - 0.5c - 1p,green,6_2:0 1c @;green;Vp@;; EOF gmt psconvert $PS -A -Tg -Z rm gmt*  gmt set MAP_TICK_LENGTH_PRIMARY -0.1c\rset model=model.txt\rset PS=model.ps\rgmt psbasemap -R0/10/0/50 -JX8c/-10c -Bx1+l\u0026#34;Velocity (km/s)\u0026#34; -By10+l\u0026#34;Depth (km)\u0026#34; -BWS+t\u0026#34;Crust model\u0026#34; -K -P \u0026gt; %PS%\rgmt psbasemap -R -J -Ben -B0 -K -O \u0026gt;\u0026gt; %PS%\rrem 利用 awk 计算每一层上下边界的深度，提取该层的速度\r rem 每一层上边界的深度即为前几层的厚度累加，下边界的深度为上边界的深度加该层层厚\r rem Vs\r gawk \u0026#34;BEGIN{d1=0;d2=0}{d2=d2+$1;print $2,d1;print $2,d2;d1=d2;}\u0026#34; %model% | gmt psxy -R -J -W1.5p,blue -K -O \u0026gt;\u0026gt; %PS%\rrem Vp\r gawk \u0026#34;BEGIN{d1=0;d2=0}{d2=d2+$1;print $3,d1;print $3,d2;d1=d2;}\u0026#34; %model% | gmt psxy -R -J -W1.5p,green,6_2:2 -K -O \u0026gt;\u0026gt; %PS%\recho S 0.4c - 0.5c - 1p,blue 1c @;blue;Vs@;; \u0026gt; legend\recho S 0.4c - 0.5c - 1p,green,6_2:0 1c @;green;Vp@;; \u0026gt;\u0026gt; legend\rgmt pslegend legend -R -J -DjBL+w2c+o0.2c/0.2c -F -O \u0026gt;\u0026gt; %PS%\rgmt psconvert %PS% -A -Tg -Z\rdel gmt* legend   绘图效果如下:\n 绘制速度模型   ","date":1524009600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1524009600,"objectID":"ff8a14deafaa16f470459309fd4d8739","permalink":"https://gmt-china.org/example/ex020/","publishdate":"2018-04-18T00:00:00Z","relpermalink":"/example/ex020/","section":"example","summary":"速度模型数据 本文展示了如何绘制地壳速度模型图。示例数据分为 6 列，分别为 地层厚度，S波速度， P波速度，密度，S波Q值和P波Q值，绘图脚本只用到","tags":null,"title":"绘制速度模型","type":"post"},{"authors":["刘珠妹"],"categories":["地学数据"],"content":"本文介绍国家标准地理数据的获取以及处理为 GMT 支持格式的方法。\n具体包括：\n 国家标准1:100万（非涉密）基础地理数据的申请、下载 数据集内容简介 数据集要素合并、提取及格式转换   本文仅供个人科研作图参考。若使用者编制的地图需向社会公开的，请务必遵守 《地图管理条例》有关规定依法履行地图审核程序。   数据概况 国家基础地理信息中心于2017年11月份开始免费向公众提供全国1:100万非涉密的全国基础地理数据库。目前数据最新为2018版，但仅2017版（整体现势性2015年）可供用户下载。该数据库：\n 共77幅DLG数据集，包括全国陆地范围以及台湾岛、海南岛、钓鱼岛、南海诸岛在内的主要岛屿及其临近海域。 包括水系、居民地及设施、公路铁路、行政边界、地名等5个数据集12个数据层。  数据更多介绍可访问全国地理信息资源目录服务系统。\n数据获取  进入全国地理信息资源目录服务系统，点右上角“注册”。已注册用户直接登陆。 在“数据下载”栏目中，点击进入“1：100万全国基础地理信息数据库”。 该数据集下有77个图幅产品。可选择一两个图幅，或全部选中，加入成果车。 结算，填写订单中的个人信息，验证手机号，下载数据。 注：若未提示验证手机，换个firefox浏览器试试。  数据集内容简介 该数据集包括5类12个要素集，如下图所示：\n 全国基础地理数据库数据集   每个要素集内又包括不同等级的自然地理要素，以BOUL要素集（图层）为例：\nBOUL 中国及邻区各级行政界限（线）图层\n该数据集包括各级行政区界线，以GB码进行区分：\n   行政区界类型 GB码     海岸线 250200   水系交汇处 260100   外国地区国界线 610200   国界线(已定) 620201   国界线(未定) 620202   省级界线 630200   特别行政区界 630400   地、市、州级行政区界 640200   县级行政区界（已定） 650201   特殊地区界限 670202    其他各图层内不同要素的分类编码可参考基础地理信息要素分类与代码（GB/T 13923-2006）。\n数据处理 从网站上直接下载的数据是分图幅的 geodatabase(gdb) 数据库文件，如果需要用 GMT画“全国一张图”，需要：\n 合并77个gdb文件中的同类要素 提取某类要素中的某个等级数据 转为gmt识别的文本格式  gdb数据库文件合并 根据网友CovMat建议，采用本社区一贯推荐的GDAL/ORG库（GDAL/OGR: 地理空间数据格式转换神器）将分幅的gdb数据进行批量合并：\n merge GMT5+sh   GMT5+bat    #!/bin/bash file=\u0026#34;./final\u0026#34; for i in $(ls -d *.gdb) do if [ ! -d \u0026#34;$file\u0026#34; ] then echo \u0026#34;creating final filefolder\u0026#34; ogr2ogr -f \u0026#39;ESRI Shapefile\u0026#39; $file $i -lco encoding=UTF-8 else echo \u0026#34;merging……\u0026#34; ogr2ogr -f \u0026#39;ESRI Shapefile\u0026#39; $file $i -update -append fi done  REM 将A49分幅的gdb数据转为一组shp格式的文件，文件夹命名为Merged REM 编码为UTF-8以正确显示属性字段中的中文 ogr2ogr -f \u0026#34;ESRI Shapefile\u0026#34; -lco encoding=UTF-8 Merged A49.gdb REM 将当前目录下所有的gdb数据追加Merged，同类shp文件合并。 for /f %%i in (\u0026#39;dir /s/b \u0026#34;*.gdb\u0026#34;\u0026#39;) do ( ogr2ogr -f \u0026#34;ESRI Shapefile\u0026#34; -update -append Merged %%i )   若安装有python环境，还可选择ogrmerge.py工具进行批量的格式转换和合并，详见ogrmerge使用手册。\n该节将分幅的交通、水系、边界等12类要素分别合并为全国一张图，最后转为12个shp文件。\n提取某类要素 由于每个数据集（一个shp文件）中存在不同等级的要素，而实际可能只使用其中一种，则仍可利用ogr2ogr工具提供的sql查询选项进行提取。\n例如：\n上文行政区划BOUL图层中GB代码620201、620202、250200分别为已定国界、未定国界和海岸线，那么提取数据并转化为GMT格式的命令为：\nogr2ogr -f GMT -where \"GB=620201 or GB=620202 or GB=250200\" BOUL_sub.gmt BOUL.shp 最后GMT绘图如下：\ngmt psxy BOUL_sub.gmt -R70/145/3/55 -JM105/35/6.5i  ChinaMap.ps 绘图结果：\n版本更新记录：  2019-5-19: 采用网友CovMat建议，将ogr2ogr命令代替ArcPy进行数据集的合并和要素提取，并简化博文图文，突出重点； 2018-4-15：初稿； ","date":1523750400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1523750400,"objectID":"5dfd698cfa071373ad9413e67603621c","permalink":"https://gmt-china.org/blog/national-geographic-database/","publishdate":"2018-04-15T00:00:00Z","relpermalink":"/blog/national-geographic-database/","section":"blog","summary":"本文介绍国家标准地理数据的获取以及处理为 GMT 支持格式的方法。\n","tags":null,"title":"2017版1:100万全国标准基础地理数据！你值得拥有","type":"post"},{"authors":["田冬冬"],"categories":["GMT技巧"],"content":" GMT 目前存在如下几个大版本:\n GMT4：最新版本为 GMT 4.5.18，也是最终版本，已不再维护更新； GMT5：最新版本为 GMT 5.4.5，是目前的主流版本 GMT6：正在开发中的版本，预计未来一年内会发发布第一个正式版  除此之外，GMT 还为其他常用的编程语言提供了方便的接口：\n gmtmex：GMT 的 matlab 接口，支持GMT5和GMT6 GMT.jl：GMT 的 Julia 接口，支持GMT5和GMT6 pygmt：GMT 的 Python 接口，支持GMT6  GMT6 虽然尚未发布，但其已经足够稳定，可以用于日常使用。最主要的是，GMT6 几乎 完全兼容 GMT5 的语法，且提供了一种更为简洁易用的新写法。\n本文将通过绘制如下一张简单的图片来展示 GMT 不同版本在绘图脚本上的主要差异。 需要注意，本文不可能详细介绍 GMT 各版本之间的主要差异，本文的主要目的是为了 演示 GMT6 新语法的简洁性。\n  GMT4 下面的脚本展示了如何在GMT4下绘制上图。脚本中的注释信息简单介绍了每句命令的含义， 选项的具体含义不是本文重点，不再赘述。\n#!/bin/bash PS=gmt-map.ps J=X10c/10c R=0/10/0/10 # 修改GMT默认参数 gmtset HEADER_FONT Helvetica-Bold HEADER_FONT_SIZE 24p # 写入PS文件头 psxy -J$J -R$R -K -T \u0026gt; $PS # 绘制底图 psbasemap -J$J -R$R -Ba2f1:X::,km:/a2f1:=$::Y:WSen:.\u0026#34;Simple Basemap\u0026#34;: -K -O \u0026gt;\u0026gt; $PS # 绘制两个五角星 psxy -J$J -R$R -Sa1c -Gred -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 1 1 2 2 EOF # 绘制线段 psxy -J$J -R$R -W1p -m -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF \u0026gt; -W2p,red 3 3 3.5 4 \u0026gt; -W2p,blue,- 4 4 4 6 EOF # 绘制箭头 psxy -J$J -R$R -Sv -Gred -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 5 5 30 1 EOF # 绘制地图及其比例尺 R=70/138/13/56 J=M105/35/12.4c pscoast -J$J -R$R -Df -A1000 -B10/10:.\u0026#39;China Map\u0026#39;: -W1/1p -N1/1p -Lf128/20/20/1000k\u0026#43;u -X12c -K -O \u0026gt;\u0026gt; $PS # 写入PS文件尾 psxy -J$J -R$R -O -T \u0026gt;\u0026gt; $PS # 将图片转换为PDF格式 ps2raster -A -P -Tf $PS # 清理当前目录下的临时文件 rm .gmtdefaults4 .gmtcommands4  GMT5 下面的脚本展示了如何在 GMT5 下绘制上图。将 GMT5 与 GMT4 的脚本相比，会发现如下 几个主要的区别：\n 所有 GMT 命令均以 gmt 开头，以避免与其他同名的命令冲突 所有 GMT 参数进行了统一分类与命令，比如与文字相关的参数都名为 FONT_xxx 、 与绘图相关的参数都名为 MAP_xxx -B 选项可重复多次使用，-BWSen+t 用于设置整个底图的属性（标题、背景色等）， -Bx 和 -By 则分别设置 X 轴和 Y 轴的轴属性（刻度、标注、标签、单位、前缀等）。 相比于 GMT4 而言，条理更加清晰 增加了颜色透明功能，red@70 表示70%透明的红色 可以自动处理多段数据，不再需要 -m 选项 绘制箭头的语法不同，新语法有更多的选项，可以得到更多种类的箭头 比例尺语法有变化，即 -L 和 -F 选项，新语法看上去很复杂，但此语法将比例尺、 colorbar、指南针等修饰物的语法做了统一，且一旦理解之后，可以很灵活地在图上 任意位置放置这些修饰物 图片转换命令从 ps2raster 改成了 psconvert 配置文件和命令历史文件的文件名变成了 gmt.conf 和 gmt.history  #!/bin/bash PS=gmt-map.ps J=X10c/10c R=0/10/0/10 # 参数名变化 gmt set FONT_TITLE=24p,Helvetica-Bold gmt psxy -J$J -R$R -K -T \u0026gt; $PS # -B选项语法不同 gmt psbasemap -J$J -R$R -Bxaf\u0026#43;lX\u0026#43;u\u0026#39; km\u0026#39; -Byaf\u0026#43;p\u0026#39;$ \u0026#39;\u0026#43;lY -BWSen\u0026#43;t\u0026#34;Simple Basemap\u0026#34; -K -O \u0026gt;\u0026gt; $PS # 颜色透明功能 gmt psxy -J$J -R$R -Sa1c -Gred@70 -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 1 1 2 2 EOF # 不再需要-m选项 gmt psxy -J$J -R$R -W1p -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF \u0026gt; -W2p,red 3 3 3.5 4 \u0026gt; -W2p,blue,- 4 4 4 6 EOF # 绘制箭头语法改变 gmt psxy -J$J -R$R -Sv0.4c\u0026#43;e -Gred -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 5 5 30 1 EOF R=70/138/13/56 J=M105/35/12.4c # 绘制比例尺语法改变 gmt pscoast -J$J -R$R -Df -A1000 -Baf -B\u0026#43;t\u0026#39;China Map\u0026#39; -W1/1p -N1/1p -LjBR\u0026#43;c20\u0026#43;o1c/1c\u0026#43;f\u0026#43;w1000k\u0026#43;u -F\u0026#43;glightblue -X12c -K -O \u0026gt;\u0026gt; $PS gmt psxy -J$J -R$R -O -T \u0026gt;\u0026gt; $PS # ps2raster 改为 psconvert gmt psconvert -A -P -Tf $PS # 临时文件的文件名变化 rm gmt.conf gmt.history  GMT6 GMT6 尚未发布，但 GMT6 完全兼容 GMT5。上面的 GMT5 绘图脚本可以不做任何修改地在 GMT6 下使用。除此之外，GMT6 还引入了一种全新的“现代模式”，大大简化了脚本。\nGMT6 相对于 GMT5 做了大量简化，列举如下：\n 所有命令都不再需要 -K -O，也不需要使用 \u0026gt; 或 \u0026gt;\u0026gt; 重定向到 PS 文件， 用户完全不需要意识到 PS 文件的存在 只要前面的命令使用过 -J 和 -R，则后面的命令不再需要重复 -J、-R 以 gmt begin 开始一张绘图，以 gmt end 结束一张绘图 使用 gmt begin 时可以指定要生成的图片的文件名以及多种格式 命令名有微调（虽然有变化，但旧命令依然可以使用！）  以 ps 开头的命令均省略了 ps，比如 psbasemap 变成 basemap、 pscoast 变成 coast 几个特例： psxy 变成 plot，psscale 变成 colorbar  执行 gmt end 时自动根据 gmt begin 中的设置生成多种格式的图片 不再需要手动清理 gmt.conf 和 gmt.history 等临时文件  #!/bin/bash # gmt begin 指定图片名为 gmt-map，指定图片格式为pdf、png和jpg gmt begin gmt-map pdf,png,jpg gmt set FONT_TITLE=24p,Helvetica-Bold # psbasemap -\u0026gt; basemap # 省略 -K -O \u0026gt;\u0026gt; xxx.ps gmt basemap -JX10c/10c -R0/10/0/10 -Bxaf\u0026#43;lX\u0026#43;u\u0026#39; km\u0026#39; -Byaf\u0026#43;p\u0026#39;$ \u0026#39;\u0026#43;lY -BWSen\u0026#43;t\u0026#34;Simple Basemap\u0026#34; # psxy -\u0026gt; plot # 省略 -J -R -K -O \u0026gt;\u0026gt; xxx.ps gmt plot -Sa1c -Gred@70 \u0026lt;\u0026lt; EOF 1 1 2 2 EOF gmt plot -W1p \u0026lt;\u0026lt; EOF \u0026gt; -W2p,red 3 3 3.5 4 \u0026gt; -W2p,blue,- 4 4 4 6 EOF gmt plot -Sv0.4c\u0026#43;e -Gred \u0026lt;\u0026lt; EOF 5 5 30 1 EOF # pscoast -\u0026gt; coast # 省略 -K -O \u0026gt;\u0026gt; xxx.ps # 此处绘制了新底图，所以需要再次指定 -J -R gmt coast -JM105/35/12.4c -R70/138/13/56 -Df -A1000 -Baf -B\u0026#43;t\u0026#39;China Map\u0026#39; -W1/1p -N1/1p -LjBR\u0026#43;c20\u0026#43;o1c/1c\u0026#43;f\u0026#43;w1000k\u0026#43;u -F\u0026#43;glightblue -X12c # gmt end自动生成多种格式的图片 gmt end  ","date":1523059200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1523059200,"objectID":"55a309cdecec998beecaf32e28d5a8d7","permalink":"https://gmt-china.org/blog/gmt-versions/","publishdate":"2018-04-07T00:00:00Z","relpermalink":"/blog/gmt-versions/","section":"blog","summary":"GMT4、GMT5以及即将发布的GMT6之间在用法上有什么区别? 我该使用哪一个?","tags":null,"title":"GMT 各大版本间的差异","type":"post"},{"authors":["肖晓"],"categories":null,"content":" 震中位置数据 | 机制解数据 | 海拔数据\n本文展示了如何同时绘制沿着垂直剖面的海拔变化图、地震分布及震源机制图。\nBash 绘图脚本如下:\n profile GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin profile png R=0/11/0/700 J=X5i/-2i eqfile=event.loc.info nearloc=near.loc beachballs=beachballs.info elev=elev.csv gmt set MAP_FRAME_TYPE plain MAP_FRAME_PEN 0.4p gmt set FONT_TITLE 5p MAP_TITLE_OFFSET 8p gmt set MAP_ANNOT_OFFSET_PRIMARY 2p FONT_ANNOT_PRIMARY 12p,Times-Roman gmt set MAP_TICK_LENGTH_PRIMARY 3p FONT_LABEL 12p MAP_GRID_PEN_PRIMARY 0.2p,gray,-- gmt set FORMAT_GEO_MAP=ddd:mm:ssF # 绘制底图 gmt basemap -R0/11/0/700 -JX5i/-2i -BWS -Bya200f100+l\u0026#34;Focal depth (km)\u0026#34; -Bxa2f1+l\u0026#34;Distance\u0026#34;+u\u0026#34;\\260\u0026#34; # 测线： (130.5,43.5)为起点，(142.5,36.5) 为终点 # 筛选出距离测线+-1度以内的地震事件 gmt project $eqfile -C130.5/43.5 -E142.5/36.5 -Fxyzpq -W-1/1 \u0026gt; $nearloc # 分深度绘制地震 awk \u0026#39;$4\u0026gt;=0 \u0026amp;\u0026amp; $4\u0026lt;70 {print $5,$4,$3*0.03}\u0026#39; $nearloc | gmt plot -Sc -Gpurple -W0.1p,black awk \u0026#39;$4\u0026gt;=70 \u0026amp;\u0026amp; $4\u0026lt;300 {print $5,$4,$3*0.04}\u0026#39; $nearloc | gmt plot -Sc -Ggreen -W0.1p,black awk \u0026#39;$4\u0026gt;=300 \u0026amp;\u0026amp; $4\u0026lt;1000 {print $5,$4,$3*0.05}\u0026#39; $nearloc | gmt plot -Sc -Gred -W0.1p,black # 在剖面上绘制部分事件的震源机制 gmt coupe $beachballs -Q -L -Sd0.3 -Aa130.5/43.5/142.5/36.5/90/100/0/700f -Gblack # 绘制图例 gmt legend -DjBR+w1.2i+l1.2+o0.05i/0.04i -F+g255+p1p \u0026lt;\u0026lt; EOF G 0.01i H 12 4 Event (M\u0026gt;4) S 0.1i c 0.20 purple 0.1p,black 0.25i 0~70 km S 0.1i c 0.20 green 0.1p,black 0.25i 70~300 km S 0.1i c 0.20 red 0.1p,black 0.25i \u0026gt;300 km EOF # 绘制海拔剖面 gmt basemap -R0/1300/-4000/2000 -JX5i/1i -Bya2000f1000+l\u0026#34;Elevation (m)\u0026#34; -BW -Y2i # 绘制剖面海拔 gmt plot $elev -W0.5p,black -Ggray # 绘制块体分界线 gmt plot -W1p,black,- \u0026lt;\u0026lt; EOF \u0026gt; 102.7 -4000 102.7 2000 \u0026gt; 939 -4000 939 2000 \u0026gt; 1113 -4000 1113 2000 \u0026gt; 1300 -4000 1300 2000 EOF gmt text -N -F+f16p,blue \u0026lt;\u0026lt; EOF 0 3000 A 1300 3000 B 600 1800 SOJP 1050 1800 JP 1200 1800 WP EOF gmt end rm $nearloc  #!/bin/bash PS=profile.ps R=0/11/0/700 J=X5i/-2i eqfile=event.loc.info nearloc=near.loc beachballs=beachballs.info elev=elev.csv gmt set MAP_FRAME_TYPE plain MAP_FRAME_PEN 0.4p gmt set FONT_TITLE 5p MAP_TITLE_OFFSET 8p gmt set MAP_ANNOT_OFFSET_PRIMARY 2p FONT_ANNOT_PRIMARY 12p,Times-Roman gmt set MAP_TICK_LENGTH_PRIMARY 3p FONT_LABEL 12p MAP_GRID_PEN_PRIMARY 0.2p,gray,-- gmt set FORMAT_GEO_MAP=ddd:mm:ssF # 绘制底图 gmt psbasemap -R$R -J$J -Bya200f100+l\u0026#34;Focal depth (km)\u0026#34; -Bxa2f1+l\u0026#34;Distance\u0026#34;+u\u0026#34;\\260\u0026#34; -BWS -K \u0026gt; $PS gmt psbasemap -R -J -B0 -Bne -O -K \u0026gt;\u0026gt; $PS # 测线： (130.5,43.5)为起点，(142.5,36.5) 为终点 # 筛选出距离测线+-1度以内的地震事件 gmt project $eqfile -C130.5/43.5 -E142.5/36.5 -Fxyzpq -W-1/1 \u0026gt; $nearloc # 分深度绘制地震 awk \u0026#39;$4\u0026gt;=0 \u0026amp;\u0026amp; $4\u0026lt;70 {print $5,$4,$3*0.03}\u0026#39; $nearloc | \\ \tgmt psxy -R -J -Sc -Gpurple -W0.1p,black -O -K \u0026gt;\u0026gt; $PS awk \u0026#39;$4\u0026gt;=70 \u0026amp;\u0026amp; $4\u0026lt;300 {print $5,$4,$3*0.04}\u0026#39; $nearloc |\\  gmt psxy -R -J -Sc -Ggreen -W0.1p,black -K -O \u0026gt;\u0026gt; $PS awk \u0026#39;$4\u0026gt;=300 \u0026amp;\u0026amp; $4\u0026lt;1000 {print $5,$4,$3*0.05}\u0026#39; $nearloc |\\  gmt psxy -R -J -Sc -Gred -W0.1p,black -O -K \u0026gt;\u0026gt; $PS # 在剖面上绘制部分事件的震源机制 gmt pscoupe $beachballs -R -J -B -Q -L -Sd0.3 -Aa130.5/43.5/142.5/36.5/90/100/0/700f \\  -Gblack -O -K \u0026gt;\u0026gt; $PS # 绘制图例 gmt pslegend -R -J -DjBR+w1.2i+l1.2+o0.05i/0.04i -F+g255+p0.25p -O -K \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF G 0.01i H 12 4 Event (M\u0026gt;4) S 0.1i c 0.20 purple 0.1p,black 0.25i 0~70 km S 0.1i c 0.20 green 0.1p,black 0.25i 70~300 km S 0.1i c 0.20 red 0.1p,black 0.25i \u0026gt;300 km EOF # 绘制海拔剖面 elevR=0/1300/-4000/2000 elevJ=X5i/1i gmt psbasemap -R$elevR -J$elevJ -Bya2000f1000+l\u0026#34;Elevation (m)\u0026#34; -Bx0 -BW -Y2i -O -K \u0026gt;\u0026gt; $PS # 绘制剖面海拔 gmt psxy $elev -W0.5p,black -J -Ggray -R -O -K \u0026gt;\u0026gt; $PS # 绘制块体分界线 gmt psxy -W1p,black,- -J -R -O -K \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt;EOF \u0026gt; 102.7 -4000 102.7 2000 \u0026gt; 939 -4000 939 2000 \u0026gt; 1113 -4000 1113 2000 \u0026gt; 1300 -4000 1300 2000 EOF gmt pstext -N -J -R -F+f16p,blue -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 0 3000 A 1300 3000 B 600 1800 SOJP 1050 1800 JP 1200 1800 WP EOF gmt psconvert $PS -A -Tg -E360 -P -Z rm gmt.*   绘图效果如下:\n 剖面图绘制   ","date":1523059200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1523059200,"objectID":"0474cd1cbe08db088427db3e85260597","permalink":"https://gmt-china.org/example/ex019/","publishdate":"2018-04-07T00:00:00Z","relpermalink":"/example/ex019/","section":"example","summary":"震中位置数据 | 机制解数据 | 海拔数据 本文展示了如何同时绘制沿着垂直剖面的海拔变化图、地震分布及震源机制图。 Bash 绘图脚本如下: profile GMT6+sh GMT5+sh #!/bin/bash gmt begin profile png R=0/11/0/700 J=X5i/-2i","tags":null,"title":"绘制含地形起伏的地震剖面图","type":"post"},{"authors":["赵志远"],"categories":["GMT技巧"],"content":"社区提供的 GMT 绘图脚本多是基于 Linux 下的 bash 脚本，有相当一部分用户并不熟悉 bash，因此有必要介绍如何将 bash 脚本改成 Windows 下可用的 bat 脚本。\n简单来说，将 bash 脚本改成 bat 脚本需要注意以下几点：\n 注释符号： # =\u0026gt; rem 设置变量： PS=MAP.PS =\u0026gt; set PS=MAP.PS 引用变量： $PS =\u0026gt; %PS% 删除文件： rm gmt.* =\u0026gt; del gmt.*  使用编辑器搜索替换功能可以很方便地实现转换。 比如搜索 # 并全部替换为 rem，搜索 $PS、$R、$J 分别替换为 %PS%、%R%、%J%。\n当然还有一些比较复杂的语句就需要你对 bat 脚本语言比较熟悉。\n比如 bash 下的嵌套命令可以将一条命令的结果作为变量使用：\nT1=$(gmt grdinfo world6m.grd -T1000) gmt makecpt -Crainbow $T1 \u0026gt; 1.cpt 而在 bat 下可以用如下两种方法来实现：\nrem 方法1 for /f %%i in (\u0026#39;gmt grdinfo world6m.grd -T1000\u0026#39;) do set T1=%%i gmt makecpt -Crainbow %T1% \u0026gt; 1.cpt rem 方法2 gmt grdinfo world6m.grd -T1000 \u0026gt; tmp.txt set /p T1=\u0026lt;tmp.txt gmt makecpt -Crainbow %T1% \u0026gt; 1.cpt 再比如 bash 下可以非常方便的进行多段文本的输入\n# 被 EOF 包起来的几行文本将作为 gmt psxy 的输入 gmt psxy -R -J -Sc0.5c -Gred -W0.5p,black -K -O \u0026lt;\u0026lt; EOF \u0026gt;\u0026gt; $PS 112.35 36.56 113.78 42.15 114.50 37.60 EOF 在 bat 下则只能将两行文本先写入到文本中，再将文本作为命令的输入\necho 112.35 36.56 \u0026gt; tmp echo 113.78 42.15 \u0026gt;\u0026gt; tmp echo 114.50 37.60 \u0026gt;\u0026gt; tmp gmt psxy tmp -R -J -Sc0.5c -Gred -W0.5p,black -O -K \u0026gt;\u0026gt; %PS% 最后，如果脚本中出现了 grep、cut、wc、cat 等命令，可以下载社区提供的 UnixTools 工具包并解压缩到 GMT 安装路径的 bin 目录下，需要注意的是 bash 脚本中的 awk 需要更改为 gawk，同时单引号需要改为双引号。\n下面给出一个简单的 bash 脚本：\n#!bin/bash PS=example.ps # 设置经纬度范围 R=-R108/125/33/43 # 设置投影方式 J=-JM6i # 绘制底图 gmt psbasemap $R $J -B3 -K \u0026gt; $PS T1=$(gmt grdinfo huabei.grd -T100) gmt makecpt -Ctopo $T1 \u0026gt; huabei.cpt # 绘制华北地形 gmt grdimage -R -J huabei.grd -Chuabei.cpt -K -O \u0026gt;\u0026gt; $PS # 绘制台站分布 gmt psxy -R -J -St0.5c -Gblack -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 112 36 120 40 115 39 EOF # 绘制 event.dat 中地震，从第二行开始提取第 4 列作为经度，提取第 3 列作为纬度 awk \u0026#39;{if (NR\u0026gt;1) print $4,$3}\u0026#39; event.dat | gmt psxy -R -J -Sc0.4c -Gblack -O \u0026gt;\u0026gt; $PS # 删除临时文件 rm gmt.* huabei.cpt 按照上述方法修改成的 bat 脚本如下：\nset PS=example.ps rem 设置经纬度范围 set R=-R108/125/33/43 rem 设置投影方式 set J=-JM6i rem 绘制底图 gmt psbasemap %R% %J% -B3 -K \u0026gt; %PS% for /f %%i in (\u0026#39;gmt grdinfo huabei.grd -T100\u0026#39;) do set T1=%%i gmt makecpt -Ctopo %T1% \u0026gt; huabei.cpt rem 绘制华北地形 gmt grdimage -R -J huabei.grd -Chuabei.cpt -K -O \u0026gt;\u0026gt; %PS% rem 绘制台站分布 echo 112 36 \u0026gt; tmp echo 120 40 \u0026gt;\u0026gt; tmp echo 115 39 \u0026gt;\u0026gt; tmp gmt psxy tmp -R -J -St0.5c -Gblack -K -O \u0026gt;\u0026gt; %PS% rem 绘制 event.dat 中地震，从第二行开始提取第 4 列作为经度，提取第 3 列作为纬度 gawk \u0026#34;{if (NR\u0026gt;1) print $4,$3}\u0026#34; event.dat | gmt psxy -R -J -Sc0.4c -Gblack -O \u0026gt;\u0026gt; %PS% rem 删除临时文件 del gmt.* huabei.cpt tmp","date":1522540800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1522540800,"objectID":"6bcbb532e011ac98d335af63b88cd77f","permalink":"https://gmt-china.org/blog/bash2bat/","publishdate":"2018-04-01T00:00:00Z","relpermalink":"/blog/bash2bat/","section":"blog","summary":"社区提供的 GMT 绘图脚本多是基于 Linux 下的 bash 脚本，有相当一部分用户并不熟悉 bash，因此有必要介绍如何将 bash 脚本改成 Windows 下可用的 bat 脚本。\n","tags":["Windows","Linux"],"title":"将 Bash 脚本改成 Bat 脚本","type":"post"},{"authors":["田冬冬"],"categories":["地学数据"],"content":" 众所周知，中国与周边国家或地区之间存在领土争议，这是一个很敏感的政治问题。\n对于地学相关的科研工作者而言，在正式出版的中外期刊上发表带有中国国界的地图时需要 格外注意。最简单的方法就是只绘制海岸线不绘制国界，以避免任何国界带来的可能争议。\n中国地图注意事项 2017年国家测绘地理信息局发布的《“问题地图”清查工作指南》中列出了绘图中应避免的 若干错误。下面列出了绘制中国全图时的常见注意事项：\n 阿克赛钦地区正确表示 藏南地区正确表示 钓鱼岛、赤尾屿位置正确 南海诸岛各岛点位置正确 台湾省底色设置与大陆一致 \u0026hellip;  GMT自带中国国界的问题 目前已知的几套国界数据包括：\n GMT自带的GSHHG数据：全球海岸线、国界、部分省/州界数据 GMT自带的DCW数据：全球行政区划数据，包含洲界、国界、省界 GADM数据 社区提供的一套相对准确的国界、省界数据  下面的脚本绘制了DCW数据和社区提供的国界数据进行对比。\n绘图脚本：\n#!/bin/bash R=70/138/3/54 J=M105/35/6.5i PS=CN-border.ps gmt psxy -J$J -R$R -T -K \u0026gt; $PS # GSHHG 数据 #gmt pscoast -J$J -R$R -Df -A10000 -Na/0.5p,gray -W1p,gray -K -O \u0026gt;\u0026gt; $PS # DCW 数据 gmt pscoast -J$J -R$R -Df -ECN,TW\u0026#43;p1p,blue@50 -K -O \u0026gt;\u0026gt; $PS # 社区数据 gmt psxy CN-border-L1.dat -J$J -R$R -W1p,red@50 -K -O \u0026gt;\u0026gt; $PS gmt psxy -J$J -R$R -T -O \u0026gt;\u0026gt; $PS gmt psconvert -A -P -Tg $PS -Z  绘图结果如下，其中蓝色边界来自DCW数据，红色边界来自社区数据。\n 中国国界对比图   从上图中可以看出，阿克赛钦地区、藏南地区边界均存在明显差异，其他地方也存在微小差异。\n在涉及到这些区域时应格外注意。需要提供的是，社区提供的国界数据并不能保证完全 正确，若用户也更为权威的国界数据，欢迎共享。\n参考  “问题地图”清查工作指南  ","date":1521244800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1521244800,"objectID":"a0befc5ddb422bdf48d62a078e8177b8","permalink":"https://gmt-china.org/blog/china-border-issues/","publishdate":"2018-03-17T00:00:00Z","relpermalink":"/blog/china-border-issues/","section":"blog","summary":"GMT国界与正确国界之间的区别与差异","tags":null,"title":"GMT自带中国国界问题","type":"post"},{"authors":["赵志远"],"categories":["GMT技巧"],"content":"GMT5的某些版本（\u0026lt;5.4.4）在某些特定的Windows下会出现如下警告信息：\ngmt: Unable to create GMT User directory : /Users/用户名/.gmt gmt: Auto-downloading of earth_relief_##m|s.grd files has been disabled. 这是一个Windows特有，但又不是所有人都会遇到的一个问题。出现该警告信息的本质原因 在于，当前系统没有定义环境变量 HOME，进而导致GMT无法知道当前计算机的主目录的 具体位置。\n虽然大部分情况下并不影响程序的正常运行，但总是出现这些警告信息真的有点难受。 解决办法是：\n1、打开 “我的电脑”-“属性”-“高级系统设置”-“环境变量” 2、新建 “系统变量” 变量名： HOME 变量值： C:\\Users\\用户名 重新运行GMT检查问题是否得到解决，可能需要重启计算机。\n经测试，HOME 变量的值可以取任意盘符中任何已存在的文件夹，正常情况下， 执行脚本后会生成 %HOME%/.gmt/cache 空文件夹。\n","date":1509062400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1509062400,"objectID":"2bb624a711e4669fc7c5dea2493aae5f","permalink":"https://gmt-china.org/blog/user-directory-warning/","publishdate":"2017-10-27T00:00:00Z","relpermalink":"/blog/user-directory-warning/","section":"blog","summary":"如何解决“无法创建用户目录”的问题?","tags":["Windows"],"title":"GMT5在Windows下提示无法创建用户目录的解决办法","type":"post"},{"authors":["王亮","田冬冬"],"categories":["新闻动态"],"content":"金秋十月，秋高气爽，雁过留声。GMT 中文社区在北京成功举办了第三次线下聚餐活动。\n2017 年 CGU 年会届时举行，全国同行汇集首都北京国际会议中心，我们借此机会齐聚一堂。 个别同学本来表示由于时间原因或距离问题无法参会，最终还是觉得机会难得克服各种困难 先后赶到。最终，13 位 GMTers 进行了一次成功的“网友见面会”。\n在聚会上，本来活跃在 QQ 群里的大家面对面相互认识和了解了彼此的学习经历和科研方向， 除了探讨了 GMT 学习、社区发展，还聊到了地震预报预警、防震减灾和地震学家如何对 公众进行地震科普等问题。不仅如此，本次聚会大家还进行了一些简单的跨学科交流， 桌上言谈之间对于自然科学研究及探索的热情和勇气溢于言表。\n希望通过本次聚会我们能更加熟悉和了解该领域各个研究方向的同学，彼此保持 更密切的联络，在科研道路上相互交流、积极互助。\n科研道路上，知己天涯若比邻，期待下次再聚~\n   从左至右依次为：章浩东（中科院地质与地球物理所）、王志伟（地震局地质研究所）、王少卿（地震局地球物理所）、 张琰（地震局地球物理所）、张周（广州地化所）、徐荟（地震局地球物理所）、王亮（成都理工）、杨晓瑜（地震局地球物理所）、李佳威（地震局地球物理所+北大）、神秘人、田冬冬（中科大）、任昱（南海所）、方洪健（中科大）、胡少乾（中科大）   ","date":1508198400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1508198400,"objectID":"3134788e2f98923af755c303b2f41995","permalink":"https://gmt-china.org/blog/gud-20171017/","publishdate":"2017-10-17T00:00:00Z","relpermalink":"/blog/gud-20171017/","section":"blog","summary":"2017年10月，GMT中文社区在北京举行了第三个线下聚餐。","tags":["聚餐"],"title":"GMT 中文社区第三次线下聚餐","type":"post"},{"authors":["肖晓"],"categories":null,"content":" 速度矢量 | 板块位置 | 应力张量\n本文绘制了速度矢量和应力应变张量主轴\nBash 绘图脚本如下:\n subslab GMT6+sh   GMT5+sh    #!/usr/bin/env sh  gmt begin subslab png ps=subslab.ps J=X-4i/-4i R=0/400/0/400 I=10/10 # 绘制底图 gmt basemap -R$R -JX-4i/-4i -Bxaf+l\u0026#34;X [km]\u0026#34; -Byaf+l\u0026#34;Depth [km]\u0026#34; -BEnSw+t\u0026#34;Mantle Velocity\u0026#34; # 将向量在 x, y 方向上的投影转换为网格化文件 gmt xyz2grd velo.gmt -R$R -i0,1,2 -I$I -GU.nc gmt xyz2grd velo.gmt -R$R -I$I -i0,1,3 -GV.nc # 绘制矢量 # -Q 设置矢量属性 # -G 设置向量内部颜色填充 # -W 设置绘制矢量外边画笔的属性 # -S 设置向量值和图上距离的换算关系 e.g 50i-50个向量单位的距离在图上绘制为1英寸 gmt grdvector U.nc V.nc -I10 -Q0.1i+e+n0.25i+h0.5 -Gblack -W1p -S50i # 绘制图例 gmt legend -F+gwhite+p0.2p,black -Dx4i/0i+w1.3i/0.6i+jBR+l1.2 -C0.2i/0.1i \u0026lt;\u0026lt; EOF S 0.1i v0.02i+a40+e 0.1i black 0.1p 0.2i 5 cm/year S 0.1i - 0.2i - 0.8p,blue,- 0.3i Slab EOF # 绘制板块下插边界 gmt plot slab.gmt -W0.8p,blue,- echo \u0026#34;(a)\u0026#34; | gmt text -F+cTL+f11p,Times-Roman -D-0.56i/1c -N gmt basemap -Bxaf+l\u0026#34;X [km]\u0026#34; -Byaf+l\u0026#34;Depth [km]\u0026#34; -BEnSw+t\u0026#34;Main strain distribution\u0026#34; -X5.6i gmt plot slab.gmt -W0.8p,blue,- # 绘制应力张量主应力大小及方向 # -Sx 表示绘制主应力/应变大小与方向, 后面数值表示1单位待绘制物理量在图上的长度 # 本例中表示图上 0.01i 长度表示的应力大小为 1 Mpa # -A2p+jc 表示矢量属性,设置箭头大小和设置矢量与输入x,y坐标的关系 # 输入文件格式: # 横坐标, 竖坐标, 应力张量扩张特征值[扩张为正], 压缩特征值, 压缩特征值对应矢量与正北方向夹角 gmt velo stresstensor.gmt -Sx0.01i -W0.1p,red -A2p+jc gmt legend -F+gwhite+p0.2p,black -Dx4i/0i+w1i/0.6i+jBR+l1.2 -C0.2i/0.1i \u0026lt;\u0026lt; EOF S 0.1i v2p+e+p0.1p,red 0.1i red 0.1p 0.2i 10 Mpa S 0.1i - 0.2i - 0.8p,blue,- 0.3i Slab EOF echo \u0026#34;(b)\u0026#34; | gmt text -F+cTL+f11p,Times-Roman -D-0.56i/1c -N rm *.nc gmt end  #!/usr/bin/env sh ps=subslab.ps J=X-4i/-4i R=0/400/0/400 I=10/10 # 绘制底图 gmt psbasemap -R$R -J$J -Bxaf+l\u0026#34;X [km]\u0026#34; -Byaf+l\u0026#34;Depth [km]\u0026#34; -K -BEnSw+t\u0026#34;Mantle Velocity\u0026#34; \u0026gt; $ps # 将向量在 x, y 方向上的投影转换为网格化文件 gmt xyz2grd ./velo.gmt -R$R -i0,1,2 -I$I -GU.nc gmt xyz2grd ./velo.gmt -R$R -I$I -i0,1,3 -GV.nc # 绘制矢量 # -Q 设置矢量属性 # -G 设置向量内部颜色填充 # -W 设置绘制矢量外边画笔的属性 # -S 设置向量值和图上距离的换算关系 e.g 50i-50个向量单位的距离在图上绘制为1英寸 gmt grdvector U.nc V.nc -R -I10 -J -O -K -Q0.1i+e+n0.25i+h0.5 -Gblack -W1p -S50i -V \u0026gt;\u0026gt; $ps # 绘制图例 gmt pslegend -R -J -F+gwhite+p0.2p,black -Dx4i/0i+w1.3i/0.6i+jBR+l1.2 -C0.2i/0.1i -B -O -K -V \u0026lt;\u0026lt; EOF \u0026gt;\u0026gt; $ps S 0.1i v0.02i+a40+e 0.1i black 0.1p 0.2i 5 cm/year S 0.1i - 0.2i - 0.8p,blue,- 0.3i Slab EOF # 绘制板块下插边界 gmt psxy ./slab.gmt -B -J -W0.8p,blue,- -R -O -K \u0026gt;\u0026gt; $ps echo \u0026#34;(a)\u0026#34; | gmt pstext -B -J -R -F+cTL+f11p,Times-Roman -D-0.56i/1c -K -O -N \u0026gt;\u0026gt; $ps gmt psbasemap -R$R -J$J -Bxaf+l\u0026#34;X [km]\u0026#34; -Byaf+l\u0026#34;Depth [km]\u0026#34; -V -K -O -BEnSw+t\u0026#34;Main strain distribution\u0026#34; -X5.6i \u0026gt;\u0026gt; $ps gmt psxy ./slab.gmt -B -J -W0.8p,blue,- -R -O -K -V\u0026gt;\u0026gt; $ps # 绘制应力张量主应力大小及方向 # -Sx 表示绘制主应力/应变大小与方向, 后面数值表示1单位待绘制物理量在图上的长度 # 本例中表示图上 0.01i 长度表示的应力大小为 1 Mpa # -A2p+jc 表示矢量属性,设置箭头大小和设置矢量与输入x,y坐标的关系 # 输入文件格式: # 横坐标, 竖坐标, 应力张量扩张特征值[扩张为正], 压缩特征值, 压缩特征值对应矢量与正北方向夹角 gmt psvelo ./psveloStress.gmt -J -R -Sx0.01i -B -W0.1p,red -A2p+jc -K -O -V \u0026gt;\u0026gt; $ps gmt pslegend -R -J -F+gwhite+p0.2p,black -Dx4i/0i+w1i/0.6i+jBR+l1.2 -C0.2i/0.1i -B -O -K -V \u0026lt;\u0026lt; EOF \u0026gt;\u0026gt; $ps S 0.1i v2p+e+p0.1p,red 0.1i red 0.1p 0.2i 10 Mpa S 0.1i - 0.2i - 0.8p,blue,- 0.3i Slab EOF echo \u0026#34;(b)\u0026#34; | gmt pstext -B -J -R -F+cTL+f11p,Times-Roman -D-0.56i/1c -O -N \u0026gt;\u0026gt; $ps rm gmt.conf gmt.history *.nc   绘图效果如下:\n 矢量绘制示例   ","date":1507852800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1507852800,"objectID":"7a1f23857870b3e7d65292a8fae17f56","permalink":"https://gmt-china.org/example/ex017/","publishdate":"2017-10-13T00:00:00Z","relpermalink":"/example/ex017/","section":"example","summary":"速度矢量 | 板块位置 | 应力张量 本文绘制了速度矢量和应力应变张量主轴 Bash 绘图脚本如下: subslab GMT6+sh GMT5+sh #!/usr/bin/env sh gmt begin subslab png ps=subslab.ps J=X-4i/-4i R=0/400/0/400 I=10/10 # 绘制底图 gmt basemap -R$R -JX-4i/-4i -Bxaf+l\u0026#34;X [km]\u0026#34; -Byaf+l\u0026#34;Depth [km]\u0026#34; -BEnSw+t\u0026#34;Mantle Velocity\u0026#34; # 将","tags":null,"title":"矢量及应力应变张量绘制","type":"post"},{"authors":["赵志远"],"categories":null,"content":"GMT 官方目前内置了 40 个自定义符号，如下所示：\n GMT 内置自定义符号   但是对于广大用户来说，这些自定义符号仍然远远无法满足需求。 因此，社区在这里 持续更新一些常用的但还没有被 GMT 官方内置的自定义符号。 如果你觉得有其它实用的符号没有被包含进来，请向我们反馈，我们会酌情考虑。\nGMT 在使用自定义符号时会按照顺序在如下目录中依次搜索自定义符号：\n 当前目录，即运行脚本所在目录 Linux和Mac用户：~/.gmt/custom；Windows用户：C:\\Users\\XXXX\\.gmt\\custom $GMT_SHAREDIR/custom 目录  因而用户可以下载社区提供的自定义符号并复制到以上任一路径即可使用这些自定义符号。 通常建议放在 ~/.gmt/custom 目录（Linux和Mac用户）或 C:\\Users\\XXXX\\.gmt\\custom (Windows用户） 下。\n绘制自定义符号脚本如下：\n custom_symbol GMT6+sh   GMT5+sh    #!/bin/bash gmt begin custom_symbol png # 绘制城市符号 echo 3 5 | gmt plot -R0/10/0/10 -JM4i -B2 -Skcity/0.2i -W0.6p echo 5 5 | gmt plot -Skcity/0.3i -Gblue echo 7 5 | gmt plot -Skcity/0.4i -Gred -W1p # 绘制指北针符号，第三列为旋转角度 echo 3 8 0| gmt plot -Skcompass/0.4i -W0.6p echo 5 8 45| gmt plot -Skcompass/0.5i -Gblue echo 7 8 90| gmt plot -Skcompass/0.6i -Gred -W1p # 绘制三角形和五角星符号 echo 2 2 | gmt plot -Sa0.5i -Wblack -Gred echo 4 2 | gmt plot -St0.5i -Wblack -Ggreen # 绘制图例 gmt pslegend -F+p1p -DjBR+w1.2i+o0.2c/0.2c \u0026lt;\u0026lt; EOF S 0.2c kcompass 0.15i white 0.5p 1c compass S 0.2c kcity 0.15i white 0.5p 1c city S 0.2c a 0.15i red 0.5p 1c capital S 0.2c t 0.15i green 0.5p 1c station EOF gmt end  #!/bin/bash ps=custom_symbol.ps # 绘制城市符号 echo 3 5 | gmt psxy -R0/10/0/10 -JM4i -B2 -Skcity/0.2i -W0.6p -K \u0026gt; $ps echo 5 5 | gmt psxy -R -J -Skcity/0.3i -Gblue -K -O \u0026gt;\u0026gt; $ps echo 7 5 | gmt psxy -R -J -Skcity/0.4i -Gred -W1p -K -O \u0026gt;\u0026gt; $ps # 绘制指北针符号，第三列为旋转角度 echo 3 8 0| gmt psxy -R -J -Skcompass/0.4i -W0.6p -K -O \u0026gt;\u0026gt; $ps echo 5 8 45| gmt psxy -R -J -Skcompass/0.5i -Gblue -K -O \u0026gt;\u0026gt; $ps echo 7 8 90| gmt psxy -R -J -Skcompass/0.6i -Gred -W1p -K -O \u0026gt;\u0026gt; $ps # 绘制三角形和五角星符号 echo 2 2 | gmt psxy -R -J -Sa0.5i -Wblack -Gred -K -O \u0026gt;\u0026gt; $ps echo 4 2 | gmt psxy -R -J -St0.5i -Wblack -Ggreen -K -O \u0026gt;\u0026gt; $ps # 绘制图例 gmt pslegend -R -J -F+p1p -DjBR+w1.2i+o0.2c/0.2c -O \u0026gt;\u0026gt; $ps \u0026lt;\u0026lt; EOF S 0.2c kcompass 0.15i white 0.5p 1c compass S 0.2c kcity 0.15i white 0.5p 1c city S 0.2c a 0.15i red 0.5p 1c capital S 0.2c t 0.15i green 0.5p 1c station EOF gmt psconvert -Tg -A -P $ps -Z rm -rf gmt.*   绘图效果如下：\n 绘制自定义符号   ","date":1507852800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1507852800,"objectID":"7c160970a20ddd96dc7755fe320edb21","permalink":"https://gmt-china.org/example/ex018/","publishdate":"2017-10-13T00:00:00Z","relpermalink":"/example/ex018/","section":"example","summary":"GMT 官方目前内置了 40 个自定义符号，如下所示： GMT 内置自定义符号 但是对于广大用户来说，这些自定义符号仍然远远无法满足需求。 因此，社区在这里 持续更新","tags":null,"title":"绘制自定义符号","type":"post"},{"authors":["王杰","刘珠妹","邓山泉"],"categories":null,"content":"  CN-plate-neighbor.dat | CN-block-L1.dat | CN-block-L1-deduced.dat | CN-block-L2.dat | CN-border-L1.dat\n本文绘制了中国大陆及周边活动地块分布图。\n CN-plate-neighbor.dat 为中国大陆周边板块边界数据 CN-block-L1.dat 为一级地块边界数据 CN-block-L1-deduced.dat 为一级地块推断边界数据 CN-block-L2.dat 为二级地块边界数据 CN-border-L1.dat 为国界线数据  数据由网友根据下图矢量化而成，并经本文作者做了一定的格式转换：\n  绘图效果如下：\n 中国大陆及周边活动地块分布图    BLOCK GMT6+sh   GMT6+bat   GMT5+sh   GMT5+bat    #!/bin/bash  gmt begin BLOCK png gmt gmtset MAP_ANNOT_OBLIQUE 6 gmt gmtset MAP_TICK_LENGTH_PRIMARY 0 gmt gmtset MAP_FRAME_TYPE plain # ============底图 gmt basemap -R78/12/149/53+r -JB105/10/25/47/15 -Bx10 -By5 -BNEWS gmt coast -Ggray95 -S83/216/238 -A5000 -Dh gmt plot CN-border-L1.dat -W0.2p -Gwhite # ============绘制板块边界 gmt plot CN-plate-neighbor.dat -W2.0p,2/138/210 -Sf0.5+t+l -G2/138/210 # ============绘制推断地块边界 gmt plot CN-block-L1-deduced.dat -W1.0p,2/138/210,- # ============绘制二级地块边界 gmt plot CN-block-L2.dat -W1.0p,orange # ============绘制一级地块边界 gmt plot CN-block-L1.dat -W1.0p,2/138/210 # ============活动地块标注 gmt text -F+f10p,37 \u0026lt;\u0026lt; EOF 90 45 西域活动地块 122 46 东北亚活动地块 120 35 华北活动地块 110 27 华南活动地块 90 33 青藏活动地块 97 23 滇缅活动地块 EOF # ============边界图例 gmt legend -DjTL+w1.5i+jTL+o0.2c/0.2c -F+gwhite+p0.5p --FONT_ANNOT_PRIMARY=8p,37 \u0026lt;\u0026lt; EOF S 0.3i f0.5+t+l 0.4i/0.3c 2/138/210 2.0p,2/138/210 0.7i 板块边界 S 0.3i - 0.50i 2/138/210 1.0p,2/138/210 0.7i 一级地块边界 S 0.3i - 0.44i - 1.0p,2/138/210,- 0.7i 推断地块边界 S 0.3i - 0.50i orange 1.0p,orange 0.7i 二级地块边界 EOF # ============南海诸岛 gmt basemap -DjBR+w2c+t gmt coast -R106/121/3/24 -JM2c -Ggray95 -S83/216/238 -A5000 -Dh gmt plot CN-border-L1.dat -R106/121/3/24 -JM2c -B0 -W0.2p -Gwhite gmt end  gmt begin BLOCK png gmt gmtset MAP_ANNOT_OBLIQUE 6 gmt gmtset MAP_TICK_LENGTH_PRIMARY 0 gmt gmtset MAP_FRAME_TYPE plain REM ============底图 gmt basemap -R78/12/149/53r -JB105/10/25/47/15c -Bx10 -By5 -BNEWS gmt coast -Ggray95 -S83/216/238 -A5000 -Dh gmt plot CN-border-L1.dat -W0.2p -Gwhite REM ============绘制板块边界 gmt plot CN-plate-neighbor.dat -W2.0p,2/138/210 -Sf0.5+t+l -G2/138/210 REM ============绘制推断地块边界 gmt plot CN-block-L1-deduced.dat -W1.0p,2/138/210,- REM ============绘制二级地块边界 gmt plot CN-block-L2.dat -W1.0p,orange REM ============绘制一级地块边界 gmt plot CN-block-L1.dat -W1.0p,2/138/210 REM ============活动地块标注 echo 90 45 西域活动地块 \u0026gt; blockname echo 122 46 东北亚活动地块 \u0026gt;\u0026gt; blockname echo 120 35 华北活动地块 \u0026gt;\u0026gt; blockname echo 110 27 华南活动地块 \u0026gt;\u0026gt; blockname echo 90 33 青藏活动地块 \u0026gt;\u0026gt; blockname echo 97 23 滇缅活动地块 \u0026gt;\u0026gt; blockname gmt text blockname -F+f10p,37 REM ============边界图例 echo S 0.3i f0.5+t+l 0.4i/0.3c 2/138/210 2.0p,2/138/210 0.7i 板块边界 \u0026gt; legend.dat echo S 0.3i - 0.50i 2/138/210 1.0p,2/138/210 0.7i 一级地块边界 \u0026gt;\u0026gt; legend.dat echo S 0.3i - 0.44i - 1.0p,2/138/210,- 0.7i 推断地块边界 \u0026gt;\u0026gt; legend.dat echo S 0.3i - 0.50i orange 1.0p,orange 0.7i 二级地块边界 \u0026gt;\u0026gt; legend.dat gmt legend legend.dat -DjTL+w1.5i+jTL+o0.1c/0.1c -F+gwhite+p0.5p --FONT_ANNOT_PRIMARY=8p,37 REM ============南海诸岛 gmt basemap -DjBR+w2c+t gmt coast -R106/121/3/24 -JM2c -Ggray95 -S83/216/238 -A5000 -Dh gmt plot CN-border-L1.dat -R106/121/3/24 -JM2c -B0 -W0.2p -Gwhite del blockname legend gmt end pause  #!/bin/bash gmt gmtset MAP_ANNOT_OBLIQUE 6 gmt gmtset MAP_TICK_LENGTH_PRIMARY 0 gmt gmtset MAP_FRAME_TYPE plain R=78/12/149/53r J=B105/10/25/47/15c PS=BLOCK.ps gmt psxy -R$R -J$J -T -K \u0026gt; $PS # ============底图 gmt psbasemap -R$R -J$J -Bx10 -By5 -BNEWS -K -O \u0026gt;\u0026gt; $PS gmt pscoast -R$R -J$J -Ggray95 -S83/216/238 -A5000 -Dh -K -O\u0026gt;\u0026gt; $PS gmt psxy CN-border-L1.dat -R$R -J$J -W0.2p -Gwhite -O -K \u0026gt;\u0026gt; $PS # ============绘制板块边界 gmt psxy CN-plate-neighbor.dat -R$R -J$J -W2.0p,2/138/210 -Sf0.5+t+l -G2/138/210 -O -K \u0026gt;\u0026gt; $PS # ============绘制推断地块边界 gmt psxy CN-block-L1-deduced.dat -R$R -J$J -W1.0p,2/138/210,- -O -K \u0026gt;\u0026gt; $PS # ============绘制二级地块边界 gmt psxy CN-block-L2.dat -R$R -J$J -W1.0p,orange -O -K \u0026gt;\u0026gt; $PS # ============绘制一级地块边界 gmt psxy CN-block-L1.dat -R$R -J$J -W1.0p,2/138/210 -O -K \u0026gt;\u0026gt; $PS # ============活动地块标注 gmt pstext -R$R -J$J -F+f10p,37 -O -K \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 90 45 西域活动地块 122 46 东北亚活动地块 120 35 华北活动地块 110 27 华南活动地块 90 33 青藏活动地块 97 23 滇缅活动地块 EOF # ============边界图例 gmt pslegend -R$R -J$J -DjTL+w1.5i+jTL+o0.2c/0.2c -F+gwhite+p0.5p -O -K --FONT_ANNOT_PRIMARY=8p,37 \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF S 0.3i f0.5+t+l 0.4i/0.3c 2/138/210 2.0p,2/138/210 0.7i 板块边界 S 0.3i - 0.50i 2/138/210 1.0p,2/138/210 0.7i 一级地块边界 S 0.3i - 0.44i - 1.0p,2/138/210,- 0.7i 推断地块边界 S 0.3i - 0.50i orange 1.0p,orange 0.7i 二级地块边界 EOF # ============南海诸岛 gmt psbasemap -R$R -J$J -DjBR+w2c+t -K -O \u0026gt;\u0026gt; $PS gmt pscoast -R106/121/3/24 -JM2c -Ggray95 -S83/216/238 -A5000 -Dh -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-L1.dat -R106/121/3/24 -JM2c -B0 -W0.2p -Gwhite -O -K \u0026gt;\u0026gt; $PS gmt psxy -R$R -J$J -T -O \u0026gt;\u0026gt; $PS rm gmt.*  gmt gmtset MAP_ANNOT_OBLIQUE 6 gmt gmtset MAP_TICK_LENGTH_PRIMARY 0 gmt gmtset MAP_FRAME_TYPE plain set R=78/12/149/53r set J=B105/10/25/47/15c set PS=BLOCK.ps gmt psxy -R%R% -J%J% -T -K \u0026gt; %PS% REM ============底图 gmt psbasemap -R%R% -J%J% -Bx10 -By5 -BNEWS -K -O \u0026gt;\u0026gt; %PS% gmt pscoast -R%R% -J%J% -Ggray95 -S83/216/238 -A5000 -Dh -K -O\u0026gt;\u0026gt; %PS% gmt psxy CN-border-L1.dat -R%R% -J%J% -W0.2p -Gwhite -O -K \u0026gt;\u0026gt; %PS% REM ============绘制板块边界 gmt psxy CN-plate-neighbor.dat -R%R% -J%J% -W2.0p,2/138/210 -Sf0.5+t+l -G2/138/210 -O -K \u0026gt;\u0026gt; %PS% REM ============绘制推断地块边界 gmt psxy CN-block-L1-deduced.dat -R%R% -J%J% -W1.0p,2/138/210,- -O -K \u0026gt;\u0026gt; %PS% REM ============绘制二级地块边界 gmt psxy CN-block-L2.dat -R%R% -J%J% -W1.0p,orange -O -K \u0026gt;\u0026gt; %PS% REM ============绘制一级地块边界 gmt psxy CN-block-L1.dat -R%R% -J%J% -W1.0p,2/138/210 -O -K \u0026gt;\u0026gt; %PS% REM ============活动地块标注 echo 90 45 西域活动地块 \u0026gt; blockname echo 122 46 东北亚活动地块 \u0026gt;\u0026gt; blockname echo 120 35 华北活动地块 \u0026gt;\u0026gt; blockname echo 110 27 华南活动地块 \u0026gt;\u0026gt; blockname echo 90 33 青藏活动地块 \u0026gt;\u0026gt; blockname echo 97 23 滇缅活动地块 \u0026gt;\u0026gt; blockname gmt pstext blockname -R%R% -J%J% -F+f10p,37 -O -K \u0026gt;\u0026gt; %PS% REM ============边界图例 echo S 0.3i f0.5+t+l 0.4i/0.3c 2/138/210 2.0p,2/138/210 0.7i 板块边界 \u0026gt; legend echo S 0.3i - 0.50i 2/138/210 1.0p,2/138/210 0.7i 一级地块边界 \u0026gt;\u0026gt; legend echo S 0.3i - 0.44i - 1.0p,2/138/210,- 0.7i 推断地块边界 \u0026gt;\u0026gt; legend echo S 0.3i - 0.50i orange 1.0p,orange 0.7i 二级地块边界 \u0026gt;\u0026gt; legend gmt pslegend legend -R%R% -J%J% -DjTL+w1.5i+jTL+o0.1c/0.1c -F+gwhite+p0.5p -O -K --FONT_ANNOT_PRIMARY=8p,37 \u0026gt;\u0026gt; %PS% REM ============南海诸岛 gmt psbasemap -R%R% -J%J% -DjBR+w2c+t -K -O \u0026gt;\u0026gt; %PS% gmt pscoast -R106/121/3/24 -JM2c -Ggray95 -S83/216/238 -A5000 -Dh -K -O \u0026gt;\u0026gt; %PS% gmt psxy CN-border-L1.dat -R106/121/3/24 -JM2c -B0 -W0.2p -Gwhite -O -K \u0026gt;\u0026gt; %PS% gmt psxy -R%R% -J%J% -T -O \u0026gt;\u0026gt; %PS% del gmt.* blockname legend pause   参考文献  张培震,邓起东,张国民,等. 中国大陆的强震活动与活动地块[J]. 中国科学D辑, 2003, 33(z1):12-20. 张国民,马宏生,王辉,等. 中国大陆活动地块边界带与强震活动[J]. 地球物理学报,2005,(03):602-610.  更新历史  2017-09-17：初稿； 2017-09-28：更新了 CN-block-L1.dat，CN-block-L1-deduced.dat，CN-block-L2.dat，使一、二级地块边界数据不重合；  ","date":1505606400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1505606400,"objectID":"3bdf5dbdbfb785f26e387d0fc53b8251","permalink":"https://gmt-china.org/example/ex016/","publishdate":"2017-09-17T00:00:00Z","relpermalink":"/example/ex016/","section":"example","summary":"CN-plate-neighbor.dat | CN-block-L1.dat | CN-block-L1-deduced.dat | CN-block-L2.dat | CN-border-L1.dat 本文绘制了中国大陆及周边活动地块分布图。 CN-plate-neighbor.dat 为中国大陆周边板块边界数据 CN-block-L1.dat 为一级地块边界数据 CN-block-L1-deduced.dat 为一级地块推断边界数据 CN-block-L2.dat 为二级地","tags":null,"title":"中国大陆及周边活动地块分布图","type":"post"},{"authors":["肖晓"],"categories":["科研工具"],"content":" 在绘制超小区域的地形图时，常需要超高精度的高程数据。\n目前已知的公开高程数据中，ASTER GDEM的精度最高，为1弧秒，即约30米一个数据点。 可以通过 Google Maps Elevation API 获取米级精度的数据。\n数据简介 Google Maps Elevation API 提供地球表面所有位置的海拔高度数据，包括海床上的深度位 置（此类位置返回负值）。\n官方文档：\n 入门指南 开发人员指南  获取密钥 API KEY 想要从Google Maps中获取地形数据，首先需要一个密钥。 可以从 get API key 页面开始申请秘钥（需要提供信用卡等信息）。\n限额说明：\n 每个用户最多可能只能申请10个免费密钥 每个密钥每天2500次免费请求 每次请求最多512个位置 每秒最多50次请求  使用说明 获取单点高程 通过简单的网络请求即可获取单点的高程：\nhttps://maps.googleapis.com/maps/api/elevation/json?locations=39.7391536,-104.9847034\u0026key=YOUR_API_KEY 其中：\n locations=39.7391536,-104.9847034 指定了要获取高程的经纬度，纬度和经度之间用逗号分隔； key=YOU_API_KEY 指定了用户密钥，用户需要将自己申请的密钥替换 YOU_API_KEY  将上面的链接复制到浏览器中，即可得到返回值为::\n{ \"results\" : [ { \"elevation\" : 1608.637939453125, \"location\" : { \"lat\" : 39.73915360, \"lng\" : -104.98470340 }, \"resolution\" : 4.771975994110107 } ], \"status\" : \"OK\" } 从中可以看到这一点的海拔高度是 1608.637939453125 米（小数点后几位可能都没有意义）。 resolution给出了该点高程的分辨率值，即内插海拔高度的数据点之间的最大距离，以米为单位。\n获取多点高程 也可以在一次网络请求中获取多个点的高程，多个位置之间用 | 分隔即可。例如：\nhttps://maps.googleapis.com/maps/api/elevation/json?locations=39.7391536,-104.9847034|36.455556,-116.866667\u0026key=YOUR_API_KEY 但一次请求中的位置不能超过512个。\n批量获取高程 Google Maps 提供了多种客户端以实现批量获取高程。 此处以Python客户端 为例。\n 安装 Google Map API 的 Python模块:\n$ pip install -U googlemaps 获取密钥\n 参考如下脚本批量获取高程数据\n#!/usr/bin/env python # -*- coding: utf-8 -*- import googlemaps import numpy as np def request_elevation(xmin, xmax, xinc, ymin, ymax, yinc, maxnum=512): \u0026#34;\u0026#34;\u0026#34;Request elevation and return them with a listParameter=========xmin : floatminimum longitude, unit is degreexmax : floatmaximum longitude, unit is degreexinc : floatincrement of longitudeymin : floatminimum latitude, unit is degreeymax : floatmaximum latitude, unit is degreeyinc : floatincrement of latitudemaxnum : intpoint number of one request, maximum value is 512\u0026#34;\u0026#34;\u0026#34; xlist = np.arange(xmin, xmax, xinc) ylist = np.arange(ymin, ymax, yinc) points = [(y, x) for y in ylist for x in xlist] requestnum = int(np.floor(len(points) / maxnum) + 1) npoints = np.array_split(points, requestnum) if requestnum \u0026gt; 2500: print(\u0026#34;Error: Request number exceed! Change grid or region.\u0026#34;) return [gmaps.elevation(locations=loc.tolist()) for loc in npoints] # 设置要下载高程数据的经度范围、纬度范围以及网格间隔 xmin, xmax, xinc = 120.000, 129.005, 0.00005 ymin, ymax, yinc = 30.000, 30.005, 0.00005 gmaps = googlemaps.Client(key=\u0026#39;YOU_API_KEY\u0026#39;) # Obtain all elevations # 请设置 maxnum 确保每一次请求的数据点数不超过 512 个以控制请求字符串长度 elevations = request_elevation(xmin, xmax, xinc, ymin, ymax, yinc, maxnum=512) # output data with format `longitude latitude elevation resolution` with open(\u0026#34;Elevations.dat\u0026#34;, \u0026#34;w\u0026#34;) as f: for loclist in elevations: for subloc in loclist: outputstr = \u0026#34;{:.5f} {:.5f} {:.5f} {:.5f}\\n\u0026#34;.format( subloc[\u0026#39;location\u0026#39;][\u0026#39;lng\u0026#39;], subloc[\u0026#39;location\u0026#39;][\u0026#39;lat\u0026#39;], subloc[\u0026#39;elevation\u0026#39;], subloc[\u0026#39;resolution\u0026#39;]) f.writelines(outputstr)  ","date":1505347200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1505347200,"objectID":"efaa66fad2fb83e9770afdc54bf43b81","permalink":"https://gmt-china.org/blog/google-maps-elevation-api/","publishdate":"2017-09-14T00:00:00Z","relpermalink":"/blog/google-maps-elevation-api/","section":"blog","summary":"如何获得米级精度的高程数据?","tags":["数据下载"],"title":"利用 Google Maps 获取超高精度高程数据","type":"post"},{"authors":["李黎明"],"categories":null,"content":"本示例展示了如何利用psvelo模块绘制GPS速度场。\n示例中所使用的GPS数据来自于 Zhao et al., Geod. Geodyn., 2015 的补充材料。\n本示例仅用于演示，不保证数据的完整性与可靠性。需要使用相关数据的用户请自行 到文章主页下载相关数据。\n 数据下载： - gps_campagin.txt: Velocities of campagin stations with respective to EURASIA plate from 1999-2014 - gps_continuous.txt: Velocities of continuous stations with respective to EURASIA plate from 1999-2014    gps GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin gps png R=70/135/15/55 # 准备底图所需的地形数据 gmt grdcut @earth_relief_06m -R$R -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -T-10000/10000/200 -Z -D # 绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt basemap -R$R -JM18c -Bf5a10 -BWesN gmt grdimage cutTopo.grd -IcutTopo_i.grd -Q # 注：此处使用的中国国界有误，不可用于发表 gmt coast -ECN+p1p,black,- -W1/0.2p -I1/0.25p # 绘制colorbar gmt colorbar -DjCB+w18c/0.3c+o0/-2.5c+h -BWSEN -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 # 绘制GPS速度场 # -Se后面三参数表示：速度值为1的矢量的长度/置信度0.95/文本的大小 # -W控制矢量以及误差椭圆的轮廓的宽度，颜色，线型 # -G矢量填充色 # -A控制矢量的属性，0.15c是矢量头的大小，+e表示在矢量尾端绘制箭头，+p0.75p矢量线段部分的宽度 awk \u0026#39;{print $1,$2,$3,$4,$5,$6,0}\u0026#39; gps_campagin.txt | gmt velo -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gblue -W0.2p,blue awk \u0026#39;{print $1,$2,$3,$4,$5,$6,0}\u0026#39; gps_continuous.txt | gmt velo -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,red # psvelo很难画图例，以下代码展示了如何绘制图例，但需要进行大量微调 gmt plot -Gwhite \u0026lt;\u0026lt; EOF 122 14 135 14 135 21 122 21 EOF gmt text -F+f7p+jML \u0026lt;\u0026lt; EOF 123 20 20\\2611 mm/yr EOF gmt velo -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,blue \u0026lt;\u0026lt; EOF 123 18 20 0 1 1 0 EOF gmt text -F+f6p+jML -M \u0026lt;\u0026lt; EOF \u0026gt; 127.5 16 0.25 2c c Campaign Stations 2009-2014 EOF gmt velo -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,red \u0026lt;\u0026lt; EOF 123 16 20 0 1 1 0 EOF gmt text -F+f6p+jML -M \u0026lt;\u0026lt; EOF \u0026gt; 127.5 18 0.25 2c c Continuous Station 1998-2014 EOF rm cutTopo*.grd gmt end  #!/bin/bash  PS=gps.ps R=70/135/15/55 J=M18c # 准备底图所需的地形数据 gmt grdcut earth_relief_06m.grd -R$R -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -S-10000/10000/200 -Z -D \u0026gt; colorTopo.cpt # 绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt psbasemap -R$R -J$J -Bf5a10 -BWesN -Xc -Yc -K \u0026gt; $PS gmt grdimage cutTopo.grd -IcutTopo_i.grd -R -J -CcolorTopo.cpt -Q -O -K \u0026gt;\u0026gt; $PS # 注：此处使用的中国国界有误，不可用于发表 gmt pscoast -R -J -ECN+p1p,black,- -W1/0.2p -I1/0.25p -O -K \u0026gt;\u0026gt; $PS # 绘制colorbar gmt psscale -DjCB+w18c/0.3c+o0/-2.5c+h -R -J -CcolorTopo.cpt -BWSEN -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 -O -K \u0026gt;\u0026gt; $PS # 绘制GPS速度场 # -Se后面三参数表示：速度值为1的矢量的长度/置信度0.95/文本的大小 # -W控制矢量以及误差椭圆的轮廓的宽度，颜色，线型 # -G矢量填充色 # -A控制矢量的属性，0.15c是矢量头的大小，+e表示在矢量尾端绘制箭头，+p0.75p矢量线段部分的宽度 gawk \u0026#39;{print $1,$2,$3,$4,$5,$6,0}\u0026#39; gps_campagin.txt | gmt psvelo -J -R -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gblue -W0.2p,blue -K -O \u0026gt;\u0026gt; $PS gawk \u0026#39;{print $1,$2,$3,$4,$5,$6,0}\u0026#39; gps_continuous.txt | gmt psvelo -J -R -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,red -K -O \u0026gt;\u0026gt; $PS # psvelo很难画图例，以下代码展示了如何绘制图例，但需要进行大量微调 gmt psxy -J -R -Gwhite -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 122 14 135 14 135 21 122 21 EOF gmt pstext -J -R -F+f7p+jML -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 123 20 20\\2611 mm/yr EOF gmt psvelo -J -R -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,blue -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 123 18 20 0 1 1 0 EOF gmt pstext -J -R -F+f6p+jML -M -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF \u0026gt; 127.5 16 0.25 2c c Campaign Stations 2009-2014 EOF gmt psvelo -J -R -Se0.05c/0.95/0 -A0.15c+e+p0.75p -Gred -W0.2p,red -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 123 16 20 0 1 1 0 EOF gmt pstext -J -R -F+f6p+jML -M -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF \u0026gt; 127.5 18 0.25 2c c Continuous Station 1998-2014 EOF gmt psxy -R -J -T -O \u0026gt;\u0026gt; $PS gmt psconvert -A -P -Tg $PS rm gmt.* cutTopo*.grd colorTopo.cpt    GPS速度场   ","date":1504742400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1504742400,"objectID":"7581607d967dcd010c694db019c84c42","permalink":"https://gmt-china.org/example/ex015/","publishdate":"2017-09-07T00:00:00Z","relpermalink":"/example/ex015/","section":"example","summary":"本示例展示了如何利用psvelo模块绘制GPS速度场。 示例中所使用的GPS数据来自于 Zhao et al., Geod. Geodyn., 2015 的补充材料。 本示例仅用于演示，不保证数据的完","tags":null,"title":"绘制GPS速度场","type":"post"},{"authors":["田冬冬"],"categories":["社区规范"],"content":" 欢迎加入“地学GMT中文社区群”：\n 一群：218905582 (已满)  二群：791856541\nGMT中文社区群是一个相对活跃且学术氛围浓厚的群。本文是GMT中文社区群的入群须知， 也是GMT中文社区的提问规范。希望所有群友可以阅读并遵守以下规范来营造更好的群环境。\n群内可以做的事  GMT相关问题 其他地学软件相关问题 地学科研相关问题 求助文献 发科研相关的培训、会议信息 介绍并推广自己的最新研究成果   群内禁止做的事：  发广告 签到、灌水等无意义行为 人身攻击 讨论政治问题   \n文献求助 需要他人帮忙下载文献时，请先使用 sci-hub 工具自行尝试下载 （sci-hub教程）。\n对于中文文献或sci-hub无法下载的文献，方可在群中寻找帮助。求助文献时，请先明确 告知“使用sci-hub无法下载该文章”并提供文章的官方链接。若找不到官方链接，则提供 文章的标题、作者、期刊、年份等信息。\n求助文献示例如下：\n 文献求助！我已经尝试用sci-hub下载但依然下载不到。文章链接为: XXXXXXX。谢谢。   安装类问题 如果你在安装GMT的过程中遇到问题，请参照下面的模板提问。\n 我在安装GMT的时候遇到了问题，请问该如何解决？谢谢。\n 操作系统是: Windows XP | Windows 7 | Ubuntu | CentOS | macOS \u0026hellip; 要安装的GMT版本是: GMT 4.5.16 | GMT 5.4.2 \u0026hellip; 安装GMT参考的文档是: 此处可贴文档的网址 安装过程中显示的错误信息为: 此处可贴图    思路类问题 想要实现某一类图，但不知GMT能否实现或没有实现的思路。\n如果别人文章中有自己想要实现的效果图就直接贴图，并指出自己在实现图中哪一部分 时没有思路。如果找不到已有的效果图，可以考虑手绘示意图，或精准描述自己想要的 效果，以免引起误会，造成不必要的时间浪费。\n 此处先贴一张图\n请问图中的XXXXX能否用GMT实现？该如何实现？谢谢。\n   请问我想用GMT实现XXX效果。此处详细介绍自己想要的效果 。不知GMT中该如何实现？ 谢谢。   如果遇到自己画出来的图与自己预期的图不一致，请参考如下模板。   当前效果：截图 预期效果：预期效果截图，或对预期效果的精确描述 我的代码是：给出自己使用的代码，可以截图可以贴代码。最好是给出最小示例而不是一堆代码。 GMT版本是: GMT 5.4.2   \n脚本报错类 遇到绘图脚本或数据处理脚本出错时，请参考如下模板。\n  我想要实现的是 ：\u0026hellip; 我的命令/脚本是: 可截图或贴脚本 终端报错是: 终端报错截图    提问的智慧 时间对任何人都是一笔宝贵的财富。没有人有义务回答你的问题。在期望别人回答你的问题 之前先要问一问自己针对这个问题做了哪些努力。\n提问前需要做的事情 大多数的问题，文档都可以为你提供标准的解答。因此在你提问之前，你最好先去阅读一下 相关的文档，至少确保你阅读过一份完整的入门文档。如果你能够在你提问的同时表明 自己已经阅读过文档，但是依旧留有困惑，潜在的回答者会更加愿意为你解答。\n推荐的一些文档：\n GMT中文社区图库 GMT中文社区博客 GMT中文手册 GMT官方文档  提问技巧  精确描述自己做了什么，遇到了什么问题，要提供足够的信息给潜在的回答者，尽量避免 回答者多次要求提问者补充额外的信息的情况。 提供当前所使用的代码。贴完图之后如果自行修正了代码中的某些错误，一定要更新图。 提供截图以及文本。有些时候需要准确看到代码的样子，此时截图更合适；有些时候需要 复制代码在自己电脑上跑一遍，此时提供文本更合适。 提问时说一说自己为了解决这个问题做了哪些事情，没人喜欢“伸手党”。 时间对任何人都是一笔宝贵的财富，请心怀感恩之心。 当你解决了某个问题（不管是别人帮助还是自己茅塞顿开），请不要吝啬告诉大家你的解决方案 当别人正在讨论某个问题时，请不要中间插入自己的问题，待别人的问题告一段落之后再提问。 除非必要，不要在首次发问的时候@某个人，这样给所有人的感觉是你在向这个人提问， 从而失去了更多的潜在回答者。 有问题就直接问，不必管有没有人用过。很多时候，你在A软件中遇到的问题可能跟A软件 完全没有关系，完全没接触过A软件的人可能也可以帮你解决该问题。  ","date":1503446400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1503446400,"objectID":"2301fc43366f21ffafd90b9294818c90","permalink":"https://gmt-china.org/blog/community-guide/","publishdate":"2017-08-23T00:00:00Z","relpermalink":"/blog/community-guide/","section":"blog","summary":"如何在QQ群中正确提问？","tags":null,"title":"GMT中文社区QQ群入群须知","type":"post"},{"authors":["王亮"],"categories":["社区规范"],"content":" GMT 中文社区欢迎读者投稿，投稿者请将稿件发送至 admin@gmt-china.org 。\n投稿分为两类：博文和示例。\n博文的要求 博文是与 GMT、科学研究和社区活动等有关的简短文章，包括但不限于：\n GMT 官方新闻（比如新版本发布） GMT 社区新闻（比如聚餐与培训） GMT 使用技巧 GMT 相关的工具 GMT 中可以用到的地学数据 其他  示例的要求 示例是讲授用 GMT 绘制一个具有典型性的绘图作品的简短文章。\n投稿的示例，应包含如下内容：\n 绘图脚本（请包含必要的注释信息） 绘图所需的必要数据（请避免使用太大的数据） 最终生成的效果图（PDF、PNG 或 JPG 格式） 示例说明文档（请说明绘图的含义以及核心模块的核心选项的简单描述）  注意事项：\n 本社区的脚本是用 Bash 写的 GMT 脚本，不满足此条件也可投稿，社区维护者会酌情处理； 绘图中所使用的数据若有来源，请标注出来；  权益 请确保你对稿件有在社区投稿的权利，特别在作品修改自他人的情况下。 你所拥有的权益是稿件公开后，你有署名权（如果维护者对你的稿件有大改， 则维护者可能会在你的名字后面署名）。接受的稿件在公开后，任何人对你的稿件都可以 以任何媒介以任何形式进行复制、发行、修改、转换或以其为基础进行再创作用于任何 可能的用途，包括商业目的。别人在使用你的作品之后，应当提及你和 GMT 社区， 但社区无法保证第三方会尊重你的权益。\n","date":1502928000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1502928000,"objectID":"a9b1578652c4c847a80a7183c45edf39","permalink":"https://gmt-china.org/blog/instructions-for-authors/","publishdate":"2017-08-17T00:00:00Z","relpermalink":"/blog/instructions-for-authors/","section":"blog","summary":"如何向GMT中文社区投稿?","tags":null,"title":"投稿须知","type":"post"},{"authors":["邓山泉"],"categories":null,"content":" earthquakes.dat\n本文展示了如何绘制选定测线的地震剖面图。 earthquakes.dat 为地震数据文件， 包含三列数据，分别是经度、纬度、深度。\n图（a）绘制了区域范围内的地震震中分布图，蓝色的线表示选定的测线；图（b）绘制了 选定测线两侧0.2°范围内地震的震中分布图；图（c）绘制了选定地震的经度/深度剖面图； 图（d）绘制了选定地震的纬度/深度剖面图。\n本文主要使用了 project 模块：\n -C100/22 ：指定测线起点为（100°, 22°）； -E106/30 ：指定测线终点为（106°, 30°）； -G0.1 ：指定了测线上测点的间隔； -W-0.2/0.2 ：指定测线两侧各0.2°范围内的地震； -F ：该选项指定期望输出的数据列  -Fxy 表示输出数据的前两列，即经度和纬度； -Fxz 表示输出数据的第一、三列，即经度和深度； -Fyz 表示输出数据的后两列，即纬度和深度。   示例中 –W 和 -G 选项使用的是和输入文件相同的单位（即度），如果使用不同单位（比如km）， 则需要添加-Q选项。\n绘图效果如下：\n 地震剖面图    profile GMT6+sh   GMT6+bat   GMT5+sh   GMT5+bat    #!/bin/bash  gmt begin seismic-profile png gmt set MAP_FRAME_TYPE=plain # === (a) 绘制区域震中分布图和选定的测线 === gmt basemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -Y7i # 绘制所有地震位置 gmt plot earthquakes.dat -Sc0.1i -Gred -W0.25p # 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt plot -W2p,blue echo \u0026#39;(a)\u0026#39; | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c # === (b) 绘制选定测线0.2度范围内地震的震中分布图 === gmt basemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -X4i # 筛选出测线周围0.2度范围内的地震并绘制 gmt project earthquakes.dat -C100/22 -E106/30 -Fxy -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p # 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt plot -W2p,blue echo \u0026#39;(b)\u0026#39; | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c # === (c) 绘制选定测线0.2度范围内地震的经度/深度剖面图 === gmt basemap -R100/106/0/70 -JX7i/-1.0i -Bxa1+lLongitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -X-4i -Y-2.0i # 筛选出测线周围0.2度范围内的地震并输出地震的经度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fxz -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p echo \u0026#39;(c)\u0026#39; | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c # === (d) 绘制选定测线0.2度范围内地震的纬度/深度剖面图 === gmt basemap -R22/30/0/70 -JX7i/-1.0i -Bxa1+lLatitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -Y-2.0i # 筛选出测线周围0.2度范围内的地震并输出地震的纬度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fyz -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p echo \u0026#39;(d)\u0026#39; | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c gmt end  gmt begin profile png gmt set MAP_FRAME_TYPE=plain REM === (a) 绘制区域震中分布图和选定的测线 === gmt basemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -Y7i REM 绘制所有地震位置 gmt plot earthquakes.dat -Sc0.1i -Gred -W0.25p REM 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt plot -W2p,blue echo (a) | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c REM === (b) 绘制选定测线0.2度范围内地震的震中分布图 === gmt basemap -Ba5f2.5 -BWeSn -X4i REM 筛选出测线周围0.2度范围内的地震并绘制 gmt project earthquakes.dat -C100/22 -E106/30 -Fxy -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p REM 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt plot -W2p,blue echo (b) | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c REM === (c) 绘制选定测线0.2度范围内地震的经度/深度剖面图 === gmt basemap -R100/106/0/70 -JX7i/-1.0i -Bxa1+lLongitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -X-4i -Y-2.0i REM 筛选出测线周围0.2度范围内的地震并输出地震的经度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fxz -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p echo (c) | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c REM === (d) 绘制选定测线0.2度范围内地震的纬度/深度剖面图 === gmt basemap -R22/30/0/70 -JX7i/-1.0i -Bxa1+lLatitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -Y-2.0i REM 筛选出测线周围0.2度范围内的地震并输出地震的纬度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fyz -W-0.2/0.2 | gmt plot -Sc0.1i -Gred -W0.25p echo (d) | gmt text -F+cBR+f12p,1 -Dj0.2c/0.2c gmt end pause  #!/bin/bash PS=seismic-profile.ps gmt set MAP_FRAME_TYPE=plain # === (a) 绘制区域震中分布图和选定的测线 === gmt psbasemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -P -Y7i -K \u0026gt; $PS # 绘制所有地震位置 gmt psxy earthquakes.dat -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; $PS # 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt psxy -R -J -W2p,blue -O -K \u0026gt;\u0026gt; $PS echo \u0026#39;(a)\u0026#39; | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; $PS # === (b) 绘制选定测线0.2度范围内地震的震中分布图 === gmt psbasemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -X4i -O -K \u0026gt;\u0026gt; $PS # 筛选出测线周围0.2度范围内的地震并绘制 gmt project earthquakes.dat -C100/22 -E106/30 -Fxy -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; $PS # 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt psxy -R -J -W2p,blue -O -K \u0026gt;\u0026gt; $PS echo \u0026#39;(b)\u0026#39; | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; $PS # === (c) 绘制选定测线0.2度范围内地震的经度/深度剖面图 === gmt psbasemap -R100/106/0/70 -JX7i/-1.0i -Bxa1+lLongitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -X-4i -Y-2.0i -O -K \u0026gt;\u0026gt; $PS # 筛选出测线周围0.2度范围内的地震并输出地震的经度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fxz -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; $PS echo \u0026#39;(c)\u0026#39; | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; $PS # === (d) 绘制选定测线0.2度范围内地震的纬度/深度剖面图 === gmt psbasemap -R22/30/0/70 -JX7i/-1.0i -Bxa1+lLatitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -Y-2.0i -O -K \u0026gt;\u0026gt; $PS # 筛选出测线周围0.2度范围内的地震并输出地震的纬度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fyz -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; $PS echo \u0026#39;(d)\u0026#39; | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; $PS gmt psxy -R -J -T -O \u0026gt;\u0026gt; $PS gmt psconvert $PS -A -P -Tg rm gmt.*  set PS=profile.ps gmt set MAP_FRAME_TYPE=plain REM === (a) 绘制区域震中分布图和选定的测线 === gmt psbasemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -P -Y7i -K \u0026gt; %PS% REM 绘制所有地震位置 gmt psxy earthquakes.dat -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; %PS% REM 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt psxy -R -J -W2p,blue -O -K \u0026gt;\u0026gt; %PS% echo (a) | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; %PS% REM === (b) 绘制选定测线0.2度范围内地震的震中分布图 === gmt psbasemap -R100/110/20/30 -JM3i -Ba5f2.5 -BWeSn -X4i -O -K \u0026gt;\u0026gt; %PS% REM 筛选出测线周围0.2度范围内的地震并绘制 gmt project earthquakes.dat -C100/22 -E106/30 -Fxy -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; %PS% REM 沿着测线每隔0.1度生成一个测点并绘制测线 gmt project -C100/22 -E106/30 -G0.1 | gmt psxy -R -J -W2p,blue -O -K \u0026gt;\u0026gt; %PS% echo (b) | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; %PS% REM === (c) 绘制选定测线0.2度范围内地震的经度/深度剖面图 === gmt psbasemap -R100/106/0/70 -JX7i/-1.0i -Bxa1+lLongitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -X-4i -Y-2.0i -O -K \u0026gt;\u0026gt; %PS% REM 筛选出测线周围0.2度范围内的地震并输出地震的经度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fxz -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; %PS% echo (c) | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; %PS% REM === (d) 绘制选定测线0.2度范围内地震的纬度/深度剖面图 === gmt psbasemap -R22/30/0/70 -JX7i/-1.0i -Bxa1+lLatitude -Bya20f10+l\u0026#34;Depth(km)\u0026#34; -BWeSn --MAP_TICK_LENGTH_PRIMARY=-0.03i -Y-2.0i -O -K \u0026gt;\u0026gt; %PS% REM 筛选出测线周围0.2度范围内的地震并输出地震的纬度和深度 gmt project earthquakes.dat -C100/22 -E106/30 -Fyz -W-0.2/0.2 | gmt psxy -R -J -Sc0.1i -Gred -W0.25p -O -K \u0026gt;\u0026gt; %PS% echo (d) | gmt pstext -R -J -F+cBR+f12p,1 -Dj0.2c/0.2c -O -K \u0026gt;\u0026gt; %PS% gmt psxy -R -J -T -O \u0026gt;\u0026gt; %PS% gmt psconvert %PS% -A -Tt del gmt.* pause   ","date":1502755200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1505088000,"objectID":"941832fe6e4e90c4afbdf62876dfd8bc","permalink":"https://gmt-china.org/example/ex014/","publishdate":"2017-08-15T00:00:00Z","relpermalink":"/example/ex014/","section":"example","summary":"earthquakes.dat 本文展示了如何绘制选定测线的地震剖面图。 earthquakes.dat 为地震数据文件， 包含三列数据，分别是经度、纬度、深度。 图（a）绘制了区域范围内的地震震中分布图，","tags":null,"title":"绘制指定测线的地震剖面图","type":"post"},{"authors":["王亮"],"categories":null,"content":" maunakea.grd\n冒纳凯阿火山位于夏威夷群岛，是形成夏威夷岛的五座火山之一，是从结构体底部到顶部的全球最高峰。 这里，我们尝试为冒纳凯阿火山绘制等高线地图和高程的剖面图。\n本示例主要使用了如下模块：\n grdcontour 模块可以根据地形网格文件绘制等高线，并进行标注。 project 模块可以根据测线的起点与终点的经纬度坐标和步长，输出测线上采样点的坐标。 grdtrack 模块则可以根据上述输出的采样点坐标从地形文件中得到采样点的距离和高程。  绘图效果如下：\n Mauna Kea Volcano   绘图脚本如下：\n plot-grdtrack GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin maunakea png # ==== 预设参数 ==== gmt gmtset MAP_FRAME_TYPE=plain \\  FONT_ANNOT_PRIMARY=14p,25,black \\  FONT_LABEL=14p,25,black \\  FONT_TITLE=24p,25,black \\  MAP_GRID_PEN_PRIMARY=thick,black,-- \\  MAP_TICK_PEN_PRIMARY=thick,black \\  MAP_TICK_PEN_SECONDARY=thick,black \\  FORMAT_GEO_MAP=dddmmF # ==== 等高线图 ==== # 主要等高线 500m 间隔(-A)，次要等高线 100m 间隔(-C)，Y 把地图上移 10 厘米，为剖面图预留空间 gmt grdcontour maunakea.grd -R155:40W/155:16W/19:41N/19:57N -JM15c -Y10c -C100 -Q100 -A500+f8p,25,darkred+o # ==== 绘制剖面的测线 ==== # 给定测线的起点(-C)和终点(-E)的经纬度，以及步长(-G)，project 输出经纬度坐标通过管道传输给 grdtrack # grdtrack 从地形文件中取样，把获得的信息输出到 gmt.xy 文件，gmt.xy 文件四列，依次是经度、纬度、距离和高程 gmt project -C-155.65/19.75 -E-155.28/19.9 -G0.1 -Q | gmt grdtrack -Gmaunakea.grd \u0026gt; gmt.xy # psxy 使用 gmt.xy 的前两列画测线 gmt plot gmt.xy -Wthick,darkred # 测线的起点和终点标记为 A 和 B gmt text -F+j+f14p,25,darkred \u0026lt;\u0026lt; EOF -155.65 19.75 LT A -155.28 19.9 LT B EOF gmt basemap -Ba5m -B+t\u0026#34;Mauna Kea Volcano\u0026#34; # ==== 剖面图 ==== # 使用 gmtinfo 从地形文件中获得 -R 的适当范围 # 使用 -Y 把剖面图下移 9 厘米 gmt plot gmt.xy -i2,3 $(gmt gmtinfo gmt.xy -i2,3 -I1/100) -JX15c/6c -Wthick,darkred -Y-9c # 先画 NE 两边的外框，再画 WS 两边的外框 gmt basemap -BNE -Bxa5f1 -Bya1000f500g1000 gmt basemap -BWS -Bxa5f1+l\u0026#34;Distance of A-B profile (km)\u0026#34; -Bya1000f500+l\u0026#34;Height (m)\u0026#34; rm gmt.xy gmt end  #!/bin/bash PS=maunakea.ps # ==== 预设参数 ==== gmt gmtset MAP_FRAME_TYPE=plain \\  FONT_ANNOT_PRIMARY=14p,25,black \\  FONT_LABEL=14p,25,black \\  FONT_TITLE=24p,25,black \\  MAP_GRID_PEN_PRIMARY=thick,black,-- \\  MAP_TICK_PEN_PRIMARY=thick,black \\  MAP_TICK_PEN_SECONDARY=thick,black \\  FORMAT_GEO_MAP=dddmmF # ==== 输入文件头 ==== gmt psxy -R0/1/0/1 -JX1c -T -K -P \u0026gt; $PS # ==== 等高线图 ==== # 主要等高线 500m 间隔(-A)，次要等高线 100m 间隔(-C)，Y 把地图上移 10 厘米，为剖面图预留空间 gmt grdcontour maunakea.grd -R155:40W/155:16W/19:41N/19:57N -JM15c -Y10c -C100 -Q100 -A500+f8p,25,darkred+o -O -K \u0026gt;\u0026gt; $PS # ==== 绘制剖面的测线 ==== # 给定测线的起点(-C)和终点(-E)的经纬度，以及步长(-G)，project 输出经纬度坐标通过管道传输给 grdtrack # grdtrack 从地形文件中取样，把获得的信息输出到 gmt.xy 文件，gmt.xy 文件四列，依次是经度、纬度、距离和高程 gmt project -C-155.65/19.75 -E-155.28/19.9 -G0.1 -Q | gmt grdtrack -Gmaunakea.grd \u0026gt; gmt.xy # psxy 使用 gmt.xy 的前两列画测线 gmt psxy gmt.xy -R -J -Wthick,darkred -O -K \u0026gt;\u0026gt; $PS # 测线的起点和终点标记为 A 和 B gmt pstext -R -J -F+j+f14p,25,darkred -O -K \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF -155.65 19.75 LT A -155.28 19.9 LT B EOF gmt psbasemap -R -J -Ba5m -B+t\u0026#34;Mauna Kea Volcano\u0026#34; -O -K \u0026gt;\u0026gt; $PS # ==== 剖面图 ==== # 使用 gmtinfo 从地形文件中获得 -R 的适当范围 R=$(gmt gmtinfo gmt.xy -i2,3 -I1/100) # 使用 -Y 把剖面图下移 9 厘米 gmt psxy gmt.xy -i2,3 $R -JX15c/6c -Wthick,darkred -Y-9c -O -K \u0026gt;\u0026gt; $PS # 先画 NE 两边的外框，再画 WS 两边的外框 gmt psbasemap -R -J -BNE -Bxa5f1 -Bya1000f500g1000 -O -K \u0026gt;\u0026gt; $PS gmt psbasemap -R -J -BWS -Bxa5f1+l\u0026#34;Distance of A-B profile (km)\u0026#34; -Bya1000f500+l\u0026#34;Height (m)\u0026#34; -O -K \u0026gt;\u0026gt; $PS gmt psxy -R -J -O -T \u0026gt;\u0026gt; $PS gmt psconvert -A -Tg $PS rm -rf gmt.*   本示例修改自鄭懷傑的等高線地圖及地形剖面指令稿。\n","date":1502668800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1502668800,"objectID":"8648d54dfd6675e776a18183a4ef9150","permalink":"https://gmt-china.org/example/ex013/","publishdate":"2017-08-14T00:00:00Z","relpermalink":"/example/ex013/","section":"example","summary":"maunakea.grd 冒纳凯阿火山位于夏威夷群岛，是形成夏威夷岛的五座火山之一，是从结构体底部到顶部的全球最高峰。 这里，我们尝试为冒纳凯阿火山绘制等高线地图和高","tags":null,"title":"绘制等高线图和剖面图","type":"post"},{"authors":["肖晓"],"categories":["科研工具"],"content":" 科研人员经常要看一些全文，但由于单位不可能花钱购买所有数据库的下载权限， 因而会经常需要需要付费下载文章的情况。本文将介绍文献下载的好工具 sci-hub， 可以下载到绝大多数外文期刊的文章甚至书籍。\nsci-hub 网站 sci-hub 是一个在线网站，可以下载众多本该付费下载的文章，因而本质上是非法的， 用户请自行判断。原始域名已经被封禁，目前可用的网址有：\n http://sci-hub.tw/ http://sci-hub.hk/  更多可用链接见 http://tool.yovisun.com/scihub/\n使用方法 下面将用多种方法演示如何下载地球科学引用率非常高的一篇文章 Preliminary reference Earth model。\n要下载一篇文章，需要知道如下两个信息中的至少一个：\n 文献的官方网址，比如 http://www.sciencedirect.com/science/article/pii/0031920181900467 ， 可以通过 Google Scholar 等网站搜索得到 文献的DOI，比如 10.1016/0031-9201(81)90046-7，可以从文章的官方网站上找到， 现在大多数文章的参考文献也要求给出DOI信息   DOI 是 Digital Object Identifier 的缩写，也叫唯一标识符，是国际通用、 全球唯一、终身不变的数字资源标识符。正如我们每人都有自己独一无二的身份证号一样， DOI代码具有唯一性，一旦分配，终身不变。已知DOI，将 DOI 加到 https://dx.doi.org/ 后 （例如 https://dx.doi.org/10.1016/0031-9201(81)90046-7 ）即可跳转到该文章的真实网址。\n 到 sci-hub 网站下载 访问 sci-hub 网址，比如 http://sci-hub.tw/ ，如下图所示：\n将文献网址或DOI粘贴到搜索框中，按下确认键或点击搜索框右边的open按钮即可。\n直接利用网址下载全文 打开文章对应的网址，在域名的后面加上 sci-hub 的域名，比如 .sci-hub.tw 即可。\n例如，这篇文章的网址是 http://www.sciencedirect.com/science/article/pii/0031920181900467 ， 在域名的后面加上 sci-hub 的域名，变成： http://www.sciencedirect.com.sci-hub.tw/science/article/pii/0031920181900467 即可直接下载文章全文。\n直接利用DOI下载全文 已知文章DOI的前提下，直接在 sci-hub 域名后面加上 DOI 即可，比如直接访问 http://sci-hub.tw/10.1016/0031-9201(81)90046-7 即可下载文章全文。\n注意事项  当文献下载过频繁会要求用户输入验证码，如下图：\n DOI是如 10.1016/0031-9201(81)90046-7 这样的字符串，前面不要带 doi: 等其他字符。\n sci-hub 不支持下载国内期刊的文章\n  ","date":1502496000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1502496000,"objectID":"947710ef69dcdcf9b0f79aeff88af1eb","permalink":"https://gmt-china.org/blog/sci-hub/","publishdate":"2017-08-12T00:00:00Z","relpermalink":"/blog/sci-hub/","section":"blog","summary":"教你如何用sci-hub下载文献","tags":["文献下载"],"title":"使用sci-hub下载文献","type":"post"},{"authors":["戴宗辉","王亮"],"categories":null,"content":" mt.dat\nM-T图表示地震随时间发展的数量密度和震级大小。M-T图的横轴是时间，纵轴是震级。 图中每一条竖线代表一次地震，竖线的位置表示了地震发生的时间，而竖线的长度代表了震级的大小。\n绘图效果如下：\n M-T图   绘图脚本如下：\n plot-mt GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin mt png # 设置 SECONDARY TICK 长度为 0 gmt set MAP_TICK_LENGTH_SECONDARY 0p gmt set FORMAT_DATE_MAP yyyy-mm # -Sb0.005c 中 0.005c 代表每条线的宽度 # -BSW 只显示左边和下边坐标 # -Bsxa1O 设置X轴次级标注的间隔为1个月，注意最后一个字符是大写字母O不是数字0 # -Bpxa7Rf1d 设置X轴主级标注的间隔为7天，刻度间隔为1天 # -B+l\u0026#34;Date\u0026#34; 设置X轴标签 # -Bya1 设置Y轴标注间隔为1 # -B+l@%2%M@-L@-@%% 设置Y轴标签，使用2号字体并将L设置为下标 gmt plot mt.dat -R2017-02-10T00:00:00/2017-05-04T00:00:00/0/5 -JX15c/5c -Sb0.005c -Gblack \\  -BSW -Bsxa1O -Bpxa7Rf1d -Bx+l\u0026#34;Date\u0026#34; -Bya1 -By+l@%2%M@-L@-@%% gmt end  #!/bin/bash PS=mt.ps J=X15c/5c R=2017-02-10T00:00:00/2017-05-04T00:00:00/0/5 # 设置 SECONDARY TICK 长度为 0 gmt set MAP_TICK_LENGTH_SECONDARY 0p gmt set FORMAT_DATE_MAP yyyy-mm # -Sb0.005c 中 0.005c 代表每条线的宽度 # -BSW 只显示左边和下边坐标 # -Bsxa1O 设置X轴次级标注的间隔为1个月，注意最后一个字符是大写字母O不是数字0 # -Bpxa7Rf1d 设置X轴主级标注的间隔为7天，刻度间隔为1天 # -B+l\u0026#34;Date\u0026#34; 设置X轴标签 # -Bya1 设置Y轴标注间隔为1 # -B+l@%2%M@-L@-@%% 设置Y轴标签，使用2号字体并将L设置为下标 gmt psxy mt.dat -R$R -J$J -Sb0.005c -Gblack \\  -BSW -Bsxa1O -Bpxa7Rf1d -Bx+l\u0026#34;Date\u0026#34; -Bya1 -By+l@%2%M@-L@-@%% \u0026gt; $PS rm gmt.*   ","date":1501286400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1501286400,"objectID":"1d9f528c7774aa420c353d1817cd79d6","permalink":"https://gmt-china.org/example/ex012/","publishdate":"2017-07-29T00:00:00Z","relpermalink":"/example/ex012/","section":"example","summary":"mt.dat M-T图表示地震随时间发展的数量密度和震级大小。M-T图的横轴是时间，纵轴是震级。 图中每一条竖线代表一次地震，竖线的位置表示了地震发生的时","tags":null,"title":"绘制M-T图","type":"post"},{"authors":["lxrat"],"categories":null,"content":"在以台站为核心的研究中（例如接收函数、S波分裂等），经常需要绘制以台站为中心的 地震分布图，以展示地震相对于台站的距离以及方位角分布。\n下面是绘图所使用的bash脚本：  map GMT6+sh   GMT5+sh    #!/bin/bash # 假定台站位于 105/30 处 stlo=105 stla=30 max_distance=90 width=10c # 图片宽度 # 使用-JE投影，其后面的四个参数分别是: # 中心经度/中心纬度/最大震中距/图片宽度 J=E$stlo/$stla/$max_distance/$width gmt begin map png # 绘制底图 gmt coast -J$J -Rg -A10000 -Ggrey # 利用 basemap 绘制图中的径向线 gmt set FORMAT_GEO_MAP=+D gmt basemap -R0/360/0/90 -JPa$width -Bxa60g60 -Bya180 # 绘制台站位置（红色三角形） echo $stlo $stla | gmt plot -J$J -Rg -St0.15i -Gred # 绘制地震震源位置 gmt plot -Sc0.05i -Gblue \u0026lt;\u0026lt; EOF 145 30 160 40 60 40 80 -10 EOF # 绘制30和60度等震中距线 echo $stlo $stla 6672 | gmt plot -SE- -W1p,red echo $stlo $stla 13344 | gmt plot -SE- -W1p,red # 在30, 60, 90处添加文字 # !!! 输入文件的第二列0, -30, -60 需要根据台站的实际纬度进行微调 !!! gmt text -D0c/0.3c \u0026lt;\u0026lt; EOF $stlo 0 30\\232 $stlo -30 60\\232 $stlo -60 90\\232 EOF gmt end  #!/bin/bash PS=map.ps R=g # 假定台站位于 105/30 处 stlo=105 stla=30 max_distance=90 width=10c # 图片宽度 # 使用-JE投影，其后面的四个参数分别是: # 中心经度/中心纬度/最大震中距/图片宽度 J=E$stlo/$stla/$max_distance/$width # 绘制底图 gmt pscoast -J$J -R$R -A10000 -Ggrey -K \u0026gt; $PS # 利用 psbasemap 绘制图中的径向线 gmt set FORMAT_GEO_MAP=+D gmt psbasemap -R0/360/0/90 -JPa$width -Bxa60g60 -Bya180 -K -O \u0026gt;\u0026gt; $PS # 绘制台站位置（红色三角形） echo $stlo $stla | gmt psxy -J$J -R$R -St0.15i -Gred -K -O \u0026gt;\u0026gt; $PS # 绘制地震震源位置 gmt psxy -J$J -R$R -Sc0.05i -Gblue -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 145 30 160 40 60 40 80 -10 EOF # 绘制30和60度等震中距线 echo $stlo $stla 6672 | gmt psxy -J$J -R$R -SE- -K -O -W1p,red \u0026gt;\u0026gt; $PS echo $stlo $stla 13344 | gmt psxy -J$J -R$R -SE- -K -O -W1p,red \u0026gt;\u0026gt; $PS # 在30, 60, 90处添加文字 # !!! 输入文件的第二列0, -30, -60 需要根据台站的实际纬度进行微调 !!! gmt pstext -J$J -R$R -D0c/0.3c -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF $stlo 0 30\\232 $stlo -30 60\\232 $stlo -60 90\\232 EOF gmt psxy -J$J -R$R -T -O \u0026gt;\u0026gt; $PS gmt psconvert -A -P -Tg $PS rm gmt.*   绘图效果：  事件相对台站的震中距方位角分布图  \n","date":1491868800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1491868800,"objectID":"fec617a0a0eaa0cd4d0bf4c58447a706","permalink":"https://gmt-china.org/example/ex011/","publishdate":"2017-04-11T00:00:00Z","relpermalink":"/example/ex011/","section":"example","summary":"在以台站为核心的研究中（例如接收函数、S波分裂等），经常需要绘制以台站为中心的 地震分布图，以展示地震相对于台站的距离以及方位角分布。 下面是绘","tags":null,"title":"事件相对台站的震中距方位角分布图","type":"post"},{"authors":["邓山泉","赵志远"],"categories":null,"content":"  eq.dat | earth_relief_01m.grd\n本文展示了如何绘制含中国大陆地区的地形图，同时也展示了如何通过 awk+wc+cut 对数据进行筛选计数，以及如何绘制简单的图例。\n下面是绘图所使用的脚本：\n topo GMT6+sh   GMT6+bat   GMT5+sh   GMT5+bat    #!/bin/bash  R=70/135/15/55 eqfile=eq.dat topodata=@earth_relief_06m gmt begin topo png gmt grdcut $topodata -R$R -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -T-10000/10000/200 -Z -D #绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt basemap -R70/135/15/55 -JM7i -Ba10f5 -BWesN gmt grdimage cutTopo.grd -IcutTopo_i.grd -Q gmt coast -Dh -W1/0.2p -I1/0.25p -N1/0.5p #绘制colorbar gmt colorbar -DjCB+w7i/0.15i+o0/-0.5i+h -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 #分震级绘制地震 awk \u0026#39;$3\u0026gt;=5.0 \u0026amp;\u0026amp; $3\u0026lt;6.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt plot -Sc -Gblue M5=`awk \u0026#39;$3\u0026gt;=5.0 \u0026amp;\u0026amp; $3\u0026lt;6.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=6.0 \u0026amp;\u0026amp; $3\u0026lt;7.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt plot -Sc -Gred M6=`awk \u0026#39;$3\u0026gt;=6.0 \u0026amp;\u0026amp; $3\u0026lt;7.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=7.0 \u0026amp;\u0026amp; $3\u0026lt;8.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt plot -Sc -Ggreen M7=`awk \u0026#39;$3\u0026gt;=7.0 \u0026amp;\u0026amp; $3\u0026lt;8.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=8.0 {print $1,$2,$3*0.06}\u0026#39; $eqfile | gmt plot -Sa -Gpurple -W0.4p,black M8=`awk \u0026#39;$3\u0026gt;=8.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` #绘制图例 gmt legend -DjBR+w1.2i+l1.2+o0 -F+g229+p0.25p \u0026lt;\u0026lt;EOF G 0.01i H 8 4 MAGNITUDE C blue S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9($M5) C red S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9($M6) C green S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9($M7) C purple S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9($M8) EOF rm cutTopo*.grd gmt end  set eqfile=eq.dat set topodata=\u0026#34;earth_relief_06m.grd\u0026#34; gmt grdcut %topodata% -R70/135/15/55 -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -T-10000/10000/200 -Z -D \u0026gt; colorTopo.cpt gmt begin topo png REM 绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt basemap -R70/135/15/55 -JM7i -Bf5a10 -BWesN gmt grdimage cutTopo.grd -IcutTopo_i.grd -CcolorTopo.cpt -Q gmt coast -Dh -W1/0.2p -I1/0.25p -N1/0.5p REM 绘制colorbar gmt colorbar -DjCB+w7i/0.15i+o0/-0.5i+h -CcolorTopo.cpt -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 REM 分震级绘制地震 gawk \u0026#34;{if(($3\u0026gt;=5.0)\u0026amp;\u0026amp;($3\u0026lt;6.0)) print $1,$2,$3*0.04}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M5=%%a gmt plot tmp -Sc -Gblue gawk \u0026#34;{if(($3\u0026gt;=6.0)\u0026amp;\u0026amp;($3\u0026lt;7.0)) print $1,$2,$3*0.04}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M6=%%a gmt plot tmp -Sc -Gred gawk \u0026#34;{if(($3\u0026gt;=7.0)\u0026amp;\u0026amp;($3\u0026lt;8.0)) print $1,$2,$3*0.06}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M7=%%a gmt plot tmp -Sa -Ggreen -W0.4p,black gawk \u0026#34;{if($3\u0026gt;=8.0) print $1,$2,$3*0.06}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M8=%%a gmt plot tmp -Sa -Gpurple -W0.4p,black REM 绘制图例 echo G 0.01i \u0026gt;legend.txt echo H 8 4 MAGNITUDE \u0026gt;\u0026gt;legend.txt echo C 0/0/255 \u0026gt;\u0026gt;legend.txt echo S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9(%M5%) \u0026gt;\u0026gt;legend.txt echo C 255/0/0 \u0026gt;\u0026gt;legend.txt echo S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9(%M6%) \u0026gt;\u0026gt;legend.txt echo C 0/255/0 \u0026gt;\u0026gt;legend.txt echo S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9(%M7%) \u0026gt;\u0026gt;legend.txt echo C purple \u0026gt;\u0026gt;legend.txt echo S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9(%M8%) \u0026gt;\u0026gt;legend.txt gmt legend legend.txt -DjBR+w1.2i+l1.2+o0 -F+g229+p0.25p del cutTopo*.grd colorTopo.cpt tmp legend.txt gmt end  #!/bin/bash  PS=topo.ps eqfile=eq.dat R=70/135/15/55 topodata=earth_relief_06m.grd gmt grdcut $topodata -R$R -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -S-10000/10000/200 -Z -D \u0026gt; colorTopo.cpt #绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt psbasemap -R$R -JM7i -Ba10f5 -BWesN -Xc -Yc -K \u0026gt; $PS gmt grdimage cutTopo.grd -R -J -IcutTopo_i.grd -CcolorTopo.cpt -Q -O -K \u0026gt;\u0026gt;$PS gmt pscoast -R -J -Dh -W1/0.2p -I1/0.25p -N1/0.5p -O -K \u0026gt;\u0026gt;$PS #绘制colorbar gmt psscale -R -J -DjCB+w7i/0.15i+o0/-0.5i+h -CcolorTopo.cpt -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 -O -K \u0026gt;\u0026gt;$PS #分震级绘制地震 awk \u0026#39;$3\u0026gt;=5.0 \u0026amp;\u0026amp; $3\u0026lt;6.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt psxy -R -J -Sc -Gblue -O -K \u0026gt;\u0026gt; $PS M5=`awk \u0026#39;$3\u0026gt;=5.0 \u0026amp;\u0026amp; $3\u0026lt;6.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=6.0 \u0026amp;\u0026amp; $3\u0026lt;7.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt psxy -R -J -Sc -Gred -K -O \u0026gt;\u0026gt; $PS M6=`awk \u0026#39;$3\u0026gt;=6.0 \u0026amp;\u0026amp; $3\u0026lt;7.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=7.0 \u0026amp;\u0026amp; $3\u0026lt;8.0 {print $1,$2,$3*0.04}\u0026#39; $eqfile | gmt psxy -R -J -Sc -Ggreen -O -K \u0026gt;\u0026gt; $PS M7=`awk \u0026#39;$3\u0026gt;=7.0 \u0026amp;\u0026amp; $3\u0026lt;8.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` awk \u0026#39;$3\u0026gt;=8.0 {print $1,$2,$3*0.06}\u0026#39; $eqfile | gmt psxy -R -J -Sa -Gpurple -W0.4p,black -O -K \u0026gt;\u0026gt; $PS M8=`awk \u0026#39;$3\u0026gt;=8.0\u0026#39; $eqfile | wc -l | cut -d\u0026#34; \u0026#34; -f1` #绘制图例 gmt pslegend -R -J -DjBR+w1.2i+l1.2+o0 -F+g229+p0.25p -O -K \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt;EOF G 0.01i H 8 4 MAGNITUDE C blue S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9($M5) C red S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9($M6) C green S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9($M7) C purple S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9($M8) EOF gmt psxy -R -J -T -O \u0026gt;\u0026gt;$PS gmt psconvert $PS -A -Tg -E200 -P -Z rm gmt.* cutTopo*.grd colorTopo.cpt  set PS=\u0026#34;topo.ps\u0026#34; set eqfile=eq.dat set R=70/135/15/55 set topodata=\u0026#34;earth_relief_06m.grd\u0026#34; gmt grdcut %topodata% -R%R% -GcutTopo.grd gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd gmt grd2cpt cutTopo.grd -Cglobe -S-10000/10000/200 -Z -D\u0026gt;colorTopo.cpt REM 绘制底图 gmt set FORMAT_GEO_MAP=ddd:mm:ssF gmt psbasemap -R%R% -JM7i -Bf5a10 -BWesN -Xc -Yc -K \u0026gt; %PS% gmt grdimage cutTopo.grd -IcutTopo_i.grd -R -J -CcolorTopo.cpt -Q -O -K \u0026gt;\u0026gt;%PS% gmt pscoast -R -J -Dh -W1/0.2p -I1/0.25p -N1/0.5p -O -K \u0026gt;\u0026gt;%PS% REM 绘制colorbar gmt psscale -DjCB+w7i/0.15i+o0/-0.5i+h -R -J -CcolorTopo.cpt -Bxa2000f400+l\u0026#34;Elevation/m\u0026#34; -G-8000/8000 -O -K\u0026gt;\u0026gt;%PS% REM 分震级绘制地震 gawk \u0026#34;{if(($3\u0026gt;=5.0)\u0026amp;\u0026amp;($3\u0026lt;6.0)) print $1,$2,$3*0.04}\u0026#34; %eqfile% \u0026gt; tmp REM 统计5级地震个数 for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M5=%%a gmt psxy -R -J tmp -Sc -Gblue -O -K \u0026gt;\u0026gt; %PS% gawk \u0026#34;{if(($3\u0026gt;=6.0)\u0026amp;\u0026amp;($3\u0026lt;7.0)) print $1,$2,$3*0.04}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M6=%%a gmt psxy -R -J tmp -Sc -Gred -O -K \u0026gt;\u0026gt; %PS% gawk \u0026#34;{if(($3\u0026gt;=7.0)\u0026amp;\u0026amp;($3\u0026lt;8.0)) print $1,$2,$3*0.06}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M7=%%a gmt psxy -R -J tmp -Sa -Ggreen -W0.4p,black -O -K \u0026gt;\u0026gt; %PS% gawk \u0026#34;{if($3\u0026gt;=8.0) print $1,$2,$3*0.06}\u0026#34; %eqfile% \u0026gt; tmp for /f \u0026#34;delims=:\u0026#34; %%a in (\u0026#39;findstr/n .* \u0026#34;tmp\u0026#34;\u0026#39;) do set M8=%%a gmt psxy -R -J tmp -Sa -Gpurple -W0.4p,black -O -K \u0026gt;\u0026gt; %PS% REM 绘制图例 echo G 0.01i \u0026gt;legend.txt echo H 8 4 MAGNITUDE \u0026gt;\u0026gt;legend.txt echo C 0/0/255 \u0026gt;\u0026gt;legend.txt echo S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9(%M5%) \u0026gt;\u0026gt;legend.txt echo C 255/0/0 \u0026gt;\u0026gt;legend.txt echo S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9(%M6%) \u0026gt;\u0026gt;legend.txt echo C 0/255/0 \u0026gt;\u0026gt;legend.txt echo S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9(%M7%) \u0026gt;\u0026gt;legend.txt echo C purple \u0026gt;\u0026gt;legend.txt echo S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9(%M8%) \u0026gt;\u0026gt;legend.txt gmt pslegend legend.txt -R -J -DjBR+w1.2i+l1.2+o0 -F+g229+p0.25p -O -K \u0026gt;\u0026gt; %PS% gmt psxy -R -J -T -O \u0026gt;\u0026gt;%PS% gmt psconvert %PS% -A -Tg -P -Z del .gmt* gmt.* cutTopo*.grd colorTopo.cpt tmp legend.txt   绘图效果：  含中国大陆地区的地形图  \n更新历史  2016-11-24：初稿 2017-10-27：更新脚本，利用 awk+wc+cut 实现不同震级地震自动计数  ","date":1479945600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1479945600,"objectID":"848f6e13fd75faed9b87bbb410770286","permalink":"https://gmt-china.org/example/ex010/","publishdate":"2016-11-24T00:00:00Z","relpermalink":"/example/ex010/","section":"example","summary":"eq.dat | earth_relief_01m.grd 本文展示了如何绘制含中国大陆地区的地形图，同时也展示了如何通过 awk+wc+cut 对数据进行筛选计数，以及如何绘制简单的图例。 下面是绘图所使用的脚本： topo","tags":["地形图"],"title":"含中国大陆地区的地形图","type":"post"},{"authors":["田冬冬"],"categories":["GMT工具"],"content":" GDAL/OGR 是一个地理空间数据的格式转换及处理工具。\n简介 官方主页: http://www.gdal.org\nGDAL/OGR 的核心分成两个部分：\n GDAL部分可以实现142种光栅/网格数据格式间的互相转换，比如常见的 netCDF、GeoTiff、HDF5、XYZ 等，详见 GDAL光栅格式列表 OGR部分可以实现84种矢量数据格式间的互相转换，比如常见的 Shapefile、GMT、KML、MapInfo、Excel 等，详见 OGR矢量格式列表  安装 Linux 用户  Linux 由于版本众多，以下仅供参考。如有差异，请到 https://pkgs.org 自行搜索。   CentOS/Fedora 用户:\nsudo yum install gdal gdal-python Ubuntu/Debian 用户:\nsudo apt-get install gdal-bin python-gdal macOS 用户 推荐使用 Homebrew 安装:\nbrew install gdal --with-complete 非 homebrew 用户也可以到 William Kyngesburye 的网站 下载 dmg 安装包。\nWindows 用户 Windows 用户可以通过安装 OSGeo4W 来使用 其提供的 GDAL。安装及使用方式如下：\n 到 OSGeo4W 官方网站下载 32位 或 64位 安装包 双击=\u0026gt;“Express Desktop Install”=\u0026gt;选择下载地址=\u0026gt;只勾选GDAL=\u0026gt;等待下载安装完成 （有经验的用户也可以选择“Advanced Install”以自定义安装） 安装完成会在桌面生成一个名为OSGeo4W的文件夹，双击文件夹内的快捷链接即可打开一个命令行窗口 命令行窗口中输入 ogr2ogr --version 以确认可以正常使用 如果只是偶尔使用，建议按照如上方式运行；如果是经常使用，可以将 C:\\OSGeo4W64\\bin 添加到 环境变量 PATH 中  如果由于某些原因无法使用 OSGeo4W，下面两个软件包中也附带了 GDAL 工具：\n MS4W GISInternals  使用 GDAL/OGR 提供了几十个工具，每个工具用法也很丰富。此处只介绍常见工具的简单用法， 详细用法请参考 GDAL工具列表 和 OGR工具列表。\n 以下用法仅在GDAL 2.4.0下测试通过，其他版本的用法可能略有不同。   ogr2ogr ogr2ogr 用于地理矢量数据格式之间的相互转换。\n查看 ogr2ogr 支持哪些格式:\n$ ogr2ogr --formats 将 Shapefile 格式的数据转换为 GMT 所需要的格式:\n$ ogr2ogr -f OGR_GMT CHN_adm0.gmt CHN_adm0.shp 其中，-f OGR_GMT 表示将输入数据转换为 GMT 格式。\ngdal_translate gdal_translate 用于地理空间光栅数据格式之间的相互转换。\n查看 gdal_translate 支持哪些格式:\n$ gdal_translate --formats 将 GeoTiff 数据转换为 GMT 所使用的 netCDF 格式:\n$ gdal_translate -of GMT srtm_56_05.tif srtm_56_05.nc  GDAL 默认不支持 GMT 所需的 netCDF 格式，所以需要注意检查当前机器安装的 GDAL 是否支持。\n若当前机器安装的 GDAL 不支持 GMT 格式，有两个解决办法：\n 自行编译安装 GDAL 并保证其支持 GMT 格式 先将数据转换为 XYZ 格式再利用 GMT 提供的 xyz2grd 命令转换为 netCDF 格式    gdal_merge.py gdal_merge.py 用于将合并多个光栅文件。\n将多个 GeoTiff 文件合并为一个 GeoTiff 文件:\n$ gdal_merge.py -o output.tif srtm_56_07.tif srtm_57_07.tif 参考资料  GDAL官方网站 GDAL工具列表 OGR工具列表 GDAL中文教程  ","date":1478476800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1479340800,"objectID":"cee353702a61b580cf948c2eee65a230","permalink":"https://gmt-china.org/blog/gdal-ogr/","publishdate":"2016-11-17T00:00:00Z","relpermalink":"/blog/gdal-ogr/","section":"blog","summary":"介绍GDAL/OGR的功能及其用法","tags":["格式转换"],"title":"GDAL/OGR: 地理空间数据格式转换神器","type":"post"},{"authors":["虎哥"],"categories":null,"content":" sunglasses.eps\n本文利用 GMT 5.3 中新增的 pssolar 模块绘制了晨昏线并计算得到太阳的位置， 同时利用 psxy 的新增功能，直接将 eps 格式的太阳图片绘制在指定位置。\n pssolar GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin solar png # 绘制指定时间晨昏线，太阳位置 # 绘制全球底图及海陆分布 gmt coast -Rd -JKs0/10i -Dl -A5000 -W0.5p -N1/0.5p,gray -S175/210/255 -Bafg --MAP_FRAME_TYPE=plain # 绘制晨昏线 gmt solar -Td+d2016-02-09T16:00:00 -Gnavy@95 # 绘制不同定义的晨昏区 gmt solar -Tc+d2016-02-09T16:00:00 -Gnavy@85 gmt solar -Tn+d2016-02-09T16:00:00 -Gnavy@80 gmt solar -Ta+d2016-02-09T16:00:00 -Gnavy@80 # 计算指定时间太阳位置并绘制在底图上 gmt solar -I+d2016-02-09T16:00:00 -C | gmt plot -Sksunglasses/1.5c -Gyellow gmt end  #!/bin/bash # 绘制指定时间晨昏线，太阳位置 PS=solar.ps # 绘制全球底图及海陆分布 gmt pscoast -Rd -JKs0/10i -Dl -A5000 -W0.5p -N1/0.5p,gray -S175/210/255 -Bafg --MAP_FRAME_TYPE=plain -K \u0026gt; $PS # 绘制晨昏线 gmt pssolar -R -J -Td+d2016-02-09T16:00:00 -Gnavy@95 -K -O \u0026gt;\u0026gt; $PS # 绘制不同定义的晨昏区 gmt pssolar -R -J -Tc+d2016-02-09T16:00:00 -Gnavy@85 -K -O \u0026gt;\u0026gt; $PS gmt pssolar -R -J -Tn+d2016-02-09T16:00:00 -Gnavy@80 -K -O \u0026gt;\u0026gt; $PS gmt pssolar -R -J -Ta+d2016-02-09T16:00:00 -Gnavy@80 -K -O \u0026gt;\u0026gt; $PS # 计算指定时间太阳位置并绘制在底图上 gmt pssolar -I+d2016-02-09T16:00:00 -C | gmt psxy -R -J -Sksunglasses/1.5c -Gyellow -O \u0026gt;\u0026gt; $PS rm gmt.* # 转换为PDF文件查看透明效果 #gmt psconvert $ps -A -Tf    绘制晨昏线   ","date":1477958400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477958400,"objectID":"66e1a4927eae0ebb7d78801965cd3e6f","permalink":"https://gmt-china.org/example/ex009/","publishdate":"2016-11-01T00:00:00Z","relpermalink":"/example/ex009/","section":"example","summary":"sunglasses.eps 本文利用 GMT 5.3 中新增的 pssolar 模块绘制了晨昏线并计算得到太阳的位置， 同时利用 psxy 的新增功能，直接将 eps 格式的太阳图片绘制在指定位置。 pssolar GMT6+sh GMT5+sh #!/bin/bash gmt begin solar png #","tags":null,"title":"绘制晨昏线及太阳位置","type":"post"},{"authors":["肖晓"],"categories":["GMT工具"],"content":" UnixTools.zip\n为满足 Windows 下的 GMT 用户对 Linux 工具的需求，我们将常用的 Linux 工具打包供 Windows 用户下载使用。\n直接下载 UnixTools.zip 并将解压得到的 exe 文件复制到 GMT 的 bin 目录即可（比如默认的 C:\\programs\\gmt5\\bin）。\n软件包中包含如下程序：\n cat：显示文件内容 cut：从指定文本中截取文本并输出至标准输出 gawk：处理文本信息的编程语言工具 grep：从指定文本或标准输入中识别并截取出特定字段等 head：输出一个或多个指定文本的前n行 join：将两个文件中文本一致的行连接并输出 md5sum：检验文本的MD5摘要 paste：并排输出两个文件的内容 printf：按C语言格式输出文本 sed：文本处理工具 sort：对文本文档进行排序 split：以行为单位切割文件 tail：显示文件尾端的n行数据 uniq：从文本中去除或禁止重复行 wc：输出指定文件的行数、字数和文本数据大小  以上 Unix 工具均提取自 MS4W 。\n如果你发现某些工具存在问题，或者觉得有其他需要的 Unix 工具没有被包含进来， 请向我们反馈，我们会酌情考虑。\n","date":1477699200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477699200,"objectID":"fb299209766f72215943ddec1fa132c5","permalink":"https://gmt-china.org/blog/unix-tools-for-windows/","publishdate":"2016-10-29T00:00:00Z","relpermalink":"/blog/unix-tools-for-windows/","section":"blog","summary":"我们为Windows用户提供了常用的Unix小工具。","tags":["Linux","Windows"],"title":"Windows 下可用的 Unix 工具","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" CN-border-La.dat | CN-Rivers.dat\n CN-Rivers GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-Rivers png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u gmt plot CN-border-La.dat -W0.5p # 绘制一级河流数据 gmt plot CN-Rivers.dat -W1p,blue # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt plot CN-border-La.dat -W0.25p gmt end  #!/bin/bash R=70/138/13/56 J=M105/35/6.5i PS=CN-Rivers.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K \u0026gt;\u0026gt; $PS # 绘制一级河流数据 gmt psxy CN-Rivers.dat -J$J -R$R -W1p,blue -K -O \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS gmt psxy -J$J -R$R -T -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国一级河流   ","date":1477353600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477353600,"objectID":"6a1df5b1e83608a9a0a50f1865e16c3b","permalink":"https://gmt-china.org/example/ex008/","publishdate":"2016-10-25T00:00:00Z","relpermalink":"/example/ex008/","section":"example","summary":"CN-border-La.dat | CN-Rivers.dat CN-Rivers GMT6+sh GMT5+sh #!/bin/bash gmt begin CN-Rivers png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u gmt plot CN-border-La.dat -W0.5p # 绘制一级河流数据 gmt plot CN-Rivers.dat -W1p,blue # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i","tags":["地学数据"],"title":"中国一级河流数据","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" CN-border-La.dat CN-EQRegion.dat | CN-EQRegion-name.dat | CN-EQSubRegion.dat | CN-EQSubRegion-name.dat\n本文提供了中国地震区划数据。\n CN-EQRegion GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-EQRegion png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/6.5i -R65/145/12/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w500k+f+u gmt plot CN-border-La.dat -W0p,gray70 # 绘制地震亚区 gmt plot CN-EQSubRegion.dat -W1p,blue gmt text CN-EQSubRegion-name.dat -F+f8p,35,blue # 绘制地震区 gmt plot CN-EQRegion.dat -W1p,red gmt text CN-EQRegion-name.dat -F+f10p,35,red # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt plot CN-border-La.dat -W0.25p echo \u0026#34;南海诸岛\u0026#34; | gmt text -F+f10p,35+cBC -D0c/0.1c -N -Gwhite gmt end  #!/bin/bash R=65/145/12/56 J=M105/6.5i PS=CN-EQRegion.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w500k+f+u -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0p,gray70 -O -K \u0026gt;\u0026gt; $PS # 绘制地震亚区 gmt psxy CN-EQSubRegion.dat -J$J -R$R -W1p,blue -K -O \u0026gt;\u0026gt; $PS gmt pstext CN-EQSubRegion-name.dat -J$J -R$R -F+f8p,35,blue -K -O \u0026gt;\u0026gt; $PS # 绘制地震区 gmt psxy CN-EQRegion.dat -J$J -R$R -W1p,red -K -O \u0026gt;\u0026gt; $PS gmt pstext CN-EQRegion-name.dat -J$J -R$R -F+f10p,35,red -K -O \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS echo \u0026#34;南海诸岛\u0026#34; | gmt pstext -J$J -R$R -F+f10p,35+cBC -D0c/0.1c -N -Gwhite -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国地震区域划分   ","date":1477353600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477353600,"objectID":"4d36361b013190ab5c94b56068b92669","permalink":"https://gmt-china.org/example/ex005/","publishdate":"2016-10-25T00:00:00Z","relpermalink":"/example/ex005/","section":"example","summary":"CN-border-La.dat CN-EQRegion.dat | CN-EQRegion-name.dat | CN-EQSubRegion.dat | CN-EQSubRegion-name.dat 本文提供了中国地震区划数据。 CN-EQRegion GMT6+sh GMT5+sh #!/bin/bash gmt begin CN-EQRegion png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/6.5i -R65/145/12/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w500k+f+u gmt plot CN-border-La.dat -W0p,gray70 # 绘制地震亚区","tags":["地学数据"],"title":"中国地震区域划分","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" CN-border-La.dat | CN-faults.dat\n CN-faults GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-faults png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u gmt plot CN-border-La.dat -W0.5p # 绘制断层数据 gmt plot CN-faults.dat -W0.5p,blue # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt psxy CN-border-La.dat -W0.25p gmt end  #!/bin/bash R=70/138/13/56 J=M105/35/6.5i PS=CN-faults.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K \u0026gt;\u0026gt; $PS # 绘制断层数据 gmt psxy CN-faults.dat -J$J -R$R -W0.5p,blue -K -O \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS gmt psxy -J$J -R$R -T -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国断层线   中国断层数据原始来源为邓起东院士等。\n如果使用了本文所提供的中国断层数据，请作如下引用。\n 中文引用:\n邓起东, 张培震, 冉勇康, 杨晓平, 闵伟, 陈立春, 2003. 中国活动构造与地震活动, 地学前缘, 10(S1), 66-73.\n 英文引用:\nDeng, Q. D., Zhang, P. Z., Ran, Y. K., Yang, X. P., Min, W., Chen, L. C., 2003. Active tectonics and earthquake activities in China. Earth Science Frontiers, 10(S1): 66-73.\n  ","date":1477353600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477353600,"objectID":"5e258f6b96db1eefef5e0590f78dfda7","permalink":"https://gmt-china.org/example/ex007/","publishdate":"2016-10-25T00:00:00Z","relpermalink":"/example/ex007/","section":"example","summary":"CN-border-La.dat | CN-faults.dat CN-faults GMT6+sh GMT5+sh #!/bin/bash gmt begin CN-faults png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u gmt plot CN-border-La.dat -W0.5p # 绘制断层数据 gmt plot CN-faults.dat -W0.5p,blue # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p","tags":["地学数据"],"title":"中国断层数据","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" CN-border-La.dat | CN-Railways.dat\n铁路线数据来源于 MapSIS。\nGMT 的 psxy 模块本身并不支持绘制铁路线。为了实现绘制铁路线的效果，此处采取的 技巧是是条线画两遍。如下脚本中第一个 psxy 命令绘制了一条宽度为 1.2p 的黑线， 第二个 psxy 命令绘制了一条宽度为 0.8p 的白线，这条线的线型 8_8: ，即线段 先是长度为 8p 的白线，然后是长度为 8p 的空白。由于线段的空白段是透明的， 所以会把第一次画的黑色线段露出来，最终实现了铁轨线的效果。\n CN-Railways GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-Railways png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u gmt plot CN-border-La.dat -W0.5p,gray # 两次 plot 命令使用不同的画笔属性以得到图中所示的铁轨效果 gmt plot CN-Railways.dat -W1.2p,black gmt plot CN-Railways.dat -W0.8p,white,8_8: # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt plot CN-border-La.dat -W0.25p gmt end  #!/bin/bash R=70/138/13/56 J=M105/35/6.5i PS=CN-Railways.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.5p,gray -O -K \u0026gt;\u0026gt; $PS # 两次 psxy 命令使用不同的画笔属性以得到图中所示的铁轨效果 gmt psxy CN-Railways.dat -J$J -R$R -W1.2p,black -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-Railways.dat -J$J -R$R -W0.8p,white,8_8: -K -O \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS gmt psxy -J$J -R$R -O -T \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国铁路线   ","date":1477353600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477353600,"objectID":"7c3b66a36133f6dae21acb38145f893d","permalink":"https://gmt-china.org/example/ex006/","publishdate":"2016-10-25T00:00:00Z","relpermalink":"/example/ex006/","section":"example","summary":"CN-border-La.dat | CN-Railways.dat 铁路线数据来源于 MapSIS。 GMT 的 psxy 模块本身并不支持绘制铁路线。为了实现绘制铁路线的效果，此处采取的 技巧是是条线画两遍。如下脚本中第一","tags":["地学数据"],"title":"中国铁路线","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" CN-border-La.dat | CN-capitals.dat\n本文整理并绘制了中国省会城市的分布图，同时展示了如何巧妙地利用 pstext 模块的功能来灵活地放置城市名的位置。\n绘图脚本如下：  CN-capitals GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-capitals png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u+l\u0026#39;比例尺\u0026#39; gmt plot CN-border-La.dat -W0.4p,gray50 # 绘制省会位置 ## 此处使用两次 psxy 命令以实现图中所示的空心圆叠加实心圆的效果 gmt plot CN-capitals.dat -Sc0.08c -Gblack gmt plot CN-capitals.dat -Sc0.15c -W0.2p,black # 绘制省会名称 gmt text CN-capitals.dat -F+f7p,35+j -Dj0.15c/0.15c # 标记北京所在位置 echo 116.46 39.92 | gmt plot -Gred -Sa0.4c # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt plot CN-border-La.dat -W0.25p echo \u0026#34;南海诸岛\u0026#34; | gmt text -F+f10p,35+cBC -D0c/0.1c -N -Gwhite gmt end  #!/bin/bash R=70/138/13/56 J=M105/35/6.5i PS=CN-capitals.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u+l\u0026#39;比例尺\u0026#39; -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.4p,gray50 -K -O \u0026gt;\u0026gt; $PS # 绘制省会位置 ## 此处使用两次 psxy 命令以实现图中所示的空心圆叠加实心圆的效果 gmt psxy CN-capitals.dat -J$J -R$R -Sc0.08c -Gblack -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-capitals.dat -J$J -R$R -Sc0.15c -W0.2p,black -K -O \u0026gt;\u0026gt; $PS # 绘制省会名称 gmt pstext CN-capitals.dat -J$J -R$R -F+f7p,35+j -Dj0.15c/0.15c -K -O \u0026gt;\u0026gt; $PS # 标记北京所在位置 echo 116.46 39.92 | gmt psxy -J$J -R$R -Gred -Sa0.4c -K -O \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS echo \u0026#34;南海诸岛\u0026#34; | gmt pstext -J$J -R$R -F+f10p,35+cBC -D0c/0.1c -N -Gwhite -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history   pstext 的 -F 选项参数为 -F+f7p,35+j，即使用大小为 7p 的 35 号字体写城市名。 由于使用了 +j 选项，因而输入文件需要有四列，分别是经度、纬度、文本对齐方式 以及城市名，具体内容如下（此处为了节省空间，只显示了个别几个城市的数据）：\n# 经度 纬度 对齐方式 城市名 121.48 31.22 ML 上海 ... 112.53 37.87 TC 太原 ... 101.74 36.56 MR 西宁 ... 117.27 31.86 CB 合肥 pstext 默认会将城市名放在城市所在处，因而要使用 -D\u0026lt;dx\u0026gt;/\u0026lt;dy\u0026gt; 选项将城市名 沿着X和Y方向分别移动 \u0026lt;dx\u0026gt; 和 \u0026lt;dy\u0026gt;。上面的示例中使用了 -Dj0.15c/0.15c， 关键在于其中 j 的使用，其使得文本会沿着文本对齐方式所定义的方向移动。比如：\n “上海”的对齐方式是 ML（即 Middle Left），-Dj0.15c/0.15c 使得“上海”向右移动了 0.15 厘米 “西宁”的对齐方式是 MR（即 Middle Right），-Dj0.15c/0.15c 使得“太原”向左移动了 0.15 厘米 “太原”的对齐方式是 TC（即 Top Center），-Dj0.15c/0.15c 使得“太原”向下移动了 0.15 厘米 “合肥”的对齐方式是 BC（即 Bottom Center），-Dj0.15c/0.15c 使得“西宁”向上移动了 0.15 厘米  你也可以尝试以下其他对齐方式下 -Dj 的具体效果。\n最终绘图效果如下图：\n 中国省会城市分布图   ","date":1477267200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1477267200,"objectID":"9eea26dfb3deda551538d9a0527e5e7b","permalink":"https://gmt-china.org/example/ex004/","publishdate":"2016-10-24T00:00:00Z","relpermalink":"/example/ex004/","section":"example","summary":"CN-border-La.dat | CN-capitals.dat 本文整理并绘制了中国省会城市的分布图，同时展示了如何巧妙地利用 pstext 模块的功能来灵活地放置城市名的位置。 绘图脚本如下： CN-capitals GMT6+sh GMT5+sh #!/bin/bash gmt begin CN-capitals png gmt set","tags":["地学数据"],"title":"中国省会城市分布图","type":"post"},{"authors":["刘珠妹"],"categories":null,"content":" 由于 GMT 自带的国界线数据不符合中国领土主张，因而在绘制用于正式图件时用户需要 自己准备国界数据。本文提供了笔者自己数字化的几个国界相关数据以及两个绘制中国地图的脚本。\n CN-border-La.dat | CN-border-L1.dat | ten-dash-line.dat\n  无法保证国界数据完全准确或可通过地图审核； 欢迎用户共享更准确的国界数据； CN-border-La.dat 中包含最全的信息，包括国界、省界、十段线以及南海诸多小岛； CN-border-L1.dat 包含国界、十段线以及南海诸岛数据，不含省界数据； ten-dash-line.dat 仅包含十段线数据；    -JD 等距圆锥投影   CN-border-JD GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-border-JD png gmt set FONT_ANNOT_PRIMARY 9p FORMAT_GEO_MAP ddd:mm:ssF gmt set MAP_FRAME_WIDTH 2p MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p gmt coast -JD105/35/36/42/7.5i -R70/140/3/60 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/11+c11+w900k+f+u+l\u0026#39;比例尺\u0026#39; gmt plot CN-border-La.dat -W0.5p gmt end  #!/bin/bash R=70/140/3/60 J=D105/35/36/42/7.5i PS=CN-border-JD.ps gmt set FONT_ANNOT_PRIMARY 9p FORMAT_GEO_MAP ddd:mm:ssF gmt set MAP_FRAME_WIDTH 2p MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/11+c11+w900k+f+u+l\u0026#39;比例尺\u0026#39; -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国地图  \n-JM 墨卡托投影   CN-border-JM GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin CN-border-JM png gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p # 绘制中国地图 gmt coast -JM105/35/6.5i -R70/138/13/56 -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u+l\u0026#39;比例尺\u0026#39; gmt plot CN-border-La.dat -W0.5p # 绘制南海区域 gmt basemap -JM1.1i -R105/123/3/24 -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p gmt coast -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 gmt plot CN-border-La.dat -W0.25p echo \u0026#34;南海诸岛\u0026#34; | gmt text -F+f10p,35+cBC -D0c/0.1c -N -Gwhite gmt end  #!/bin/bash R=70/138/13/56 J=M105/35/6.5i PS=CN-border-JM.ps gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1 gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p gmt set FONT_ANNOT_PRIMARY 7p # 设置比例尺标签为35号中文字体 gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p # 绘制中国地图 gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5+c17.5+w800k+f+u+l\u0026#39;比例尺\u0026#39; -K \u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K \u0026gt;\u0026gt; $PS # 绘制南海区域 R=105/123/3/24 J=M1.1i gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O \u0026gt;\u0026gt; $PS gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O \u0026gt;\u0026gt; $PS gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K \u0026gt;\u0026gt; $PS echo \u0026#34;南海诸岛\u0026#34; | gmt pstext -J$J -R$R -F+f10p,35+cBC -D0c/0.1c -N -Gwhite -O \u0026gt;\u0026gt; $PS rm gmt.conf gmt.history    中国地图  \n更新历史  2016-10-23：初稿； 2017-09-11：更新了 CN-border-L1.dat 的拓扑结构，使得其可以正确填充颜色； 2017-09-16：修复了 CN-border-L1.dat 中的一个 bug； 2018-04-16：使用全国基础地理数据库中的数据更新了十段线数据；  ","date":1477180800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1505520000,"objectID":"da56ff819424e39dd95536fa47f3a5bd","permalink":"https://gmt-china.org/example/ex003/","publishdate":"2016-10-23T00:00:00Z","relpermalink":"/example/ex003/","section":"example","summary":"由于 GMT 自带的国界线数据不符合中国领土主张，因而在绘制用于正式图件时用户需要 自己准备国界数据。本文提供了笔者自己数字化的几个国界相关数据以及两","tags":["地学数据"],"title":"中国国界、省界及十段线","type":"post"},{"authors":["王亮"],"categories":null,"content":"本示例展示了如何绘制震源球的分布图。震级的大小由震源球的大小来表征， 震源的深度则由震源球的压缩象限的颜色表示。\n beachball GMT6+sh   GMT5+sh    #!/bin/bash # 绘制震源机制分布图，震级控制震源球大小，深度控制震源球颜色 CPT=meca.cpt # 生成CPT文件，为每个深度段设置不同的颜色 cat \u0026lt;\u0026lt; EOF \u0026gt; $CPT 0 0-1-1 20 0-1-1 20 60-1-1 40 60-1-1 40 120-1-1 60 120-1-1 60 240-1-1 100 240-1-1 EOF gmt begin beachball png gmt basemap -JQ104/15c -R102.5/105.5/30.5/32.5 -B1 -BWSen gmt coast -Da -Ia/0.05,black gmt meca -CP5p -Sa1.3c -Z$CPT \u0026lt;\u0026lt; EOF # 经度 纬度 深度(km) strike dip rake 震级 newX newY ID 104.3300 31.90 39.8 32.00 64.00 85.00 7.0 0 0 A 104 31.52 27.1 22.00 53.00 57.00 6.0 0 0 B 103.6700 31.1300 6.4 86.00 32.00 -65.00 8.0 0 0 C 103.900 31.3400 43.6 194.00 84.00 179.00 4.9 104.180 30.8400 D 103.7200 31.4400 67.3 73.00 84.00 -162.00 4.9 103.120 31.6400 E 104.1200 31.7800 12.7 186.00 68.00 107.00 4.7 103.830 32.2600 F 104.2300 31.6100 62.0 86.00 63.00 -51.00 4.7 104.960 31.6900 G EOF gmt colorbar -C$CPT -DjBL+w5c/0.5c+ml+o0.8c/0.4c -Bx+lDepth -By+lkm -L -S rm $CPT gmt end  #!/bin/bash # 绘制震源机制分布图，震级控制震源球大小，深度控制震源球颜色 J=Q104/15c R=102.5/105.5/30.5/32.5 PS=beachball.ps CPT=meca.cpt # 生成CPT文件，为每个深度段设置不同的颜色 cat \u0026lt;\u0026lt; EOF \u0026gt; $CPT 0 0-1-1 20 0-1-1 20 60-1-1 40 60-1-1 40 120-1-1 60 120-1-1 60 240-1-1 100 240-1-1 EOF gmt psbasemap -J$J -R$R -B1 -BWSen -P -K \u0026gt; $PS gmt pscoast -J -R -Da -Ia/0.05,black -K -O \u0026gt;\u0026gt; $PS gmt psmeca -J -R -CP5p -Sa1.3c -Z$CPT -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF # 经度 纬度 深度(km) strike dip rake 震级 newX newY ID 104.3300 31.90 39.8 32.00 64.00 85.00 7.0 0 0 A 104 31.52 27.1 22.00 53.00 57.00 6.0 0 0 B 103.6700 31.1300 6.4 86.00 32.00 -65.00 8.0 0 0 C 103.900 31.3400 43.6 194.00 84.00 179.00 4.9 104.180 30.8400 D 103.7200 31.4400 67.3 73.00 84.00 -162.00 4.9 103.120 31.6400 E 104.1200 31.7800 12.7 186.00 68.00 107.00 4.7 103.830 32.2600 F 104.2300 31.6100 62.0 86.00 63.00 -51.00 4.7 104.960 31.6900 G EOF gmt psscale -J -R -C$CPT -DjBL+w5c/0.5c+ml+o0.8c/0.4c -Bx+lDepth -By+lkm -L -S -K -O \u0026gt;\u0026gt; $PS gmt psxy -J -R -T -O \u0026gt;\u0026gt; $PS rm gmt.* $CPT    震源球分布图   ","date":1475452800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1475452800,"objectID":"5f702d052008f72adf53f24d146541a1","permalink":"https://gmt-china.org/example/ex001/","publishdate":"2016-10-03T00:00:00Z","relpermalink":"/example/ex001/","section":"example","summary":"本示例展示了如何绘制震源球的分布图。震级的大小由震源球的大小来表征， 震源的深度则由震源球的压缩象限的颜色表示。 beachball GMT6+sh GMT5+sh #!/bin/bash # 绘制震源机制分布图，","tags":["震源球"],"title":"震源机制分布图","type":"post"},{"authors":["罗娜"],"categories":["社区动态"],"content":"2016年9月21日，借GMT中文社区首次线下培训契机，在社区创始人田冬冬博士和GMT群管理员 刘珠妹老师的号召下，GMT中文社区在湖北武汉组织了第二次线下聚餐（GMT User Dinner，简称GUD）， 四位群管理员和来自河北、福建、安徽、甘肃、湖北等地的共16位社区成员参加了此次聚会。\n聚会伊始，杨萍带来了兰州似火的热情，为大家奉上美味糖果牦牛肉，大红色的包装纸 被单斌老师认成喜糖。红色代表着喜庆，象征着今天大家有缘聚在一起，也是一种皆大 欢喜的团圆。随后大家自我介绍了自己的群内ID和真实姓名，社区成员对彼此的学习情况、 工作经历、研究领域等有了初步认识。稍后，社区成员商讨了GMT社区网站的美观设计、 腾讯网盘容量已扩容性问题、相同问题反复提问和解答等。针对上述内容，田博士希望 将来可以重新设计一个漂亮的社区logo，建议把GMT社区内容重新移植回QQ群文件中， 并希冀整理群问题的工作可以尽快开展，因此再次号召更多志愿者加入到GMT社区的管理 和维护工作。稍后，大家谈到了亘古不变的话题“虎哥究竟是男是女”，众人仁者见 仁智者见智，各持己见，瞬间聚会气氛达到了高潮，可惜的是虎哥本人并不在现场！\n随后田博士在师弟和美女的陪同下，参观了位于东湖之滨、珞珈山下、拥有百年历史的 全国重点高校—国立武汉大学。走出武大校园后，随后乘船游览了国家5A级旅游景区—东湖。 此次聚会活动虎哥没有参加，但虎哥热情依在，虎哥看完聚会照片，和大家调侃了“桂花山药” 美味的一盘菜，并押宝5毛，最后在虎哥强烈邀约下，筹备了第三次线下聚餐活动。\nGMT社区线下聚会在轻松愉快的氛围中结束，此次聚会谈论话题广泛，但又不失主题性， 为GMT社区成员之间深入交流提供了一个很好的平台，促进了GMT社区的稳健成长。 遥祝GMT中文社区像东湖一样，可以永葆原创魅力，又像武汉大学一样，亦可承载 一路的历史、厚重、辉煌！ “相见时难别亦难”，美好的聚会终有一别，这次聚会虽然短暂， 但短暂的聚会让我们会加倍的去珍惜，希望下一次聚会再团聚！\n 参会人员从左往右依次为：章婷（湖北省地震局）、刘珠妹（中国地震局地震研究所）、王丽霞（中国地震局兰州地震研究所）、杨萍（中国地震局兰州地震研究所）、郑海刚（安徽省地震局）、谢小晋（中国地质大学-武汉）、贾媛（山东省地震局）、杨锦玲（福建省地震局）、田冬冬（中国科学技术大学）、肖晓（武汉大学）、赵志远（河北省地震局）、刘旭耀（中国地质大学-武汉）、罗娜（河北省地震局）、邓明莉（中国科学院测量与地球物理研究所）、刘成利（中国地质大学-武汉）、单斌（中国地质大学-武汉）   ","date":1474934400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1474934400,"objectID":"52283088c3114535ce9a0cdb26dcdfb0","permalink":"https://gmt-china.org/blog/gud-20160921/","publishdate":"2016-09-27T00:00:00Z","relpermalink":"/blog/gud-20160921/","section":"blog","summary":"GMT中文社区在湖北武汉组织了第二次线下聚餐。","tags":["GMT User Dinner"],"title":"GMT中文社区第二次线下聚餐","type":"post"},{"authors":["罗娜"],"categories":["社区动态"],"content":"2016年9月21至22日，GMT中文社区协同中国地震局地震研究所和中国地震局地壳形变学科 技术管理组举行了首次GMT线下培训活动。\n此次培训邀请了田冬冬（中国科学技术大学在读博士，社区 ID：知名不具）、 单斌（中国地质大学特任教授，社区 ID：Bins）和 刘珠妹（中国地震局地震研究所，社区 ID：忆尤）三位老师在湖北省地震局21楼报告厅 做了《GMT入门、基础及进阶》、《GMT应用与科技论文写作》、《地学常见GMT图件模板讲解》 专题培训讲座，来自全国地震系统的学员和慕名人士共计120余人参加了此次培训。\n此次培训考虑到培训人员GMT操作能力差异巨大，为了尽可能地照顾到所有培训人员的需求， 经过一个月精心调研准备，从内容、思路、绘图技巧等方面综合考虑，确定了此次GMT专题 讲座的最终主题。\n21日上午田冬冬博士首先介绍了GMT的概念、开发团队、GMT的版本等， 随后对GMT基础知识、配置文件、常用命令进行了详细讲解，最后总结了GMT学习方法及 学习资源，对GMT中文社区创建初衷、社区功能、未来发展等做了阐述，并呼吁各位 仁人志士加入到GMT社区的设计和日常维护中。\n单斌教授对GMT做了简单介绍，随后深入浅出的介绍了GMT常用选项、常用命令、shell脚本 编写等，并对GMT在科技论文中的应用做了具体实例讲解，提供了科技论文写作技巧。 最后具神指出了GMT5和GMT4的语法命令区别，对学习兴趣、专业优势等和大家做了深入 分享交流。\n22日下午刘珠妹老师对地学常见GMT图件模板进行了讲解，刘老师首先讲授了怎样读懂脚本的 使用平台、脚本版本、脚本结构等内容，然后讲授了编写绘图脚本的6个基本步骤， 介绍了自由空气异常图、布格异常图等几种常用绘图模板，讨论了中文支持、脚本批量运行、 二次开发等GMT绘图技巧，刘老师强调在学习过程中，应对照样例修改参数， 具体问题具体分析，带着问题去找答案。\n此次GMT专题培训授课内容全面、专题性比较强、课程安排比较合理，通过此次培训， 推广了GMT的使用范围，提高了GMT软件在日常工作中实际操作应用能力， 促进了GMT群和GMT中文社区的未来更快更好发展，加强了GMT群成员的交流， 此次培训取得了预期效果，期待下一次培训的召开。\n","date":1474761600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1474761600,"objectID":"112a967ec0f76cfe03a70221ff98bdd3","permalink":"https://gmt-china.org/blog/gmtcon-20160921/","publishdate":"2016-09-25T00:00:00Z","relpermalink":"/blog/gmtcon-20160921/","section":"blog","summary":"2016年9月21至22日，GMT中文社区协同中国地震局地震研究所和中国地震局地壳形变学科 技术管理组举行了首次GMT线下培训活动。\n","tags":["培训"],"title":"GMT中文社区首次线下培训","type":"post"},{"authors":["王亮"],"categories":["社区动态"],"content":"2016年6月28日，GMT中文社区在北京举行了首次GMT用户线下聚餐（GMT User Dinner，简称GUD）。\n6月27日至29日，很多GMT用户参加了在中国科学院地质与地球物理研究所举办的 “首届中国区域地震学参考模型交流会”。 社区创始人田冬冬提议借此机会，举行社区的第一次线下聚会。\n6月28日晚，参与聚会的GMT社区用户相约前往北京北辰西路的芝麻花餐厅聚会。 在聚会上，社区成员相互认识，对彼此的研究领域、GMT 学习和社区的发展进行了交流和讨论。\n 左至右依次为：李佳威（中国地震局地球物理研究所）、王志伟（中国地震局地质研究所）、田冬冬（中国科学技术大学）、王亮（桂林理工大学）、李君（中国地震局第二监测中心  ","date":1474675200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1474675200,"objectID":"b97b8a6df0e885bd9c5a92c1e856b03b","permalink":"https://gmt-china.org/blog/gud-20160628/","publishdate":"2016-09-24T00:00:00Z","relpermalink":"/blog/gud-20160628/","section":"blog","summary":"2016年6月28日，GMT中文社区在北京举行了首次GMT用户线下聚餐（GMT User Dinner，简称GUD）。\n","tags":["GMT User Dinner"],"title":"GMT中文社区首次线下聚餐","type":"post"},{"authors":["田冬冬"],"categories":null,"content":"在利用地震波研究地球深部结构时，经常需要绘制震相在深度剖面下的射线路径， 同时也需要绘制地球内部的主要界面。\n震相的射线路径可以用 TauP 提供的 taup_path 命令计算得到，然后在极坐标系 -JP 中绘制。难点在于如何绘制几个主要界面。\n本示例将展示如何绘制震中距为30度的 PcP 和 PKiKP 震相的射线路径，同时绘制地球内的 410、660界面以及 CMB 和 ICB。最终的绘图效果如下：\n 震相射线路径   绘图脚本如下：\n earth-discontinuities GMT6+sh   GMT5+sh    #!/bin/bash  gmt begin earth-discontinuities png gmt set MAP_GRID_PEN_PRIMARY 1p # 绘制地表 gmt basemap -JPa10c/15 -R-10/40/0/6371 -Byg6371 -Bs # 绘制 410 界面 gmt basemap -Byg6371+5961 -Bs # 绘制 660 界面 gmt basemap -Byg6371+5711 -Bs # 绘制 CMB gmt basemap -Byg6371+3480 -Bs # 绘制 ICB gmt basemap -Byg6371+1221 -Bs # 计算并绘制震相的射线路径 taup_path -mod prem -ph PcP -h 300 -deg 30 -o PcP.raypath taup_path -mod prem -ph PKiKP -h 300 -deg 30 -o PKiKP.raypath gmt plot PcP.raypath.gmt -W1p,blue gmt plot PKiKP.raypath.gmt -W1p,red # 绘制震源和台站位置 gmt plot -S -Gblack -N \u0026lt;\u0026lt; EOF 0 6071 0.4c a 30 6471 0.4c i EOF # 添加标注 gmt text -F+f11p+a -N \u0026lt;\u0026lt; EOF -6 6170 20 Surface -6 3280 20 CMB -3 1020 20 ICB 16 4100 0 @;blue;PcP@;; 37 1600 0 @;red;PKiKP@;; EOF rm *.raypath.gmt gmt end  #!/bin/bash J=Pa10c/15 R=-10/40/0/6371 PS=earth-discontinuities.ps gmt set MAP_GRID_PEN_PRIMARY 1p # 绘制地表 gmt psbasemap -J$J -R$R -Byg6371 -Bs -K \u0026gt; $PS # 绘制 410 界面 gmt psbasemap -J$J -R$R -Byg6371+5961 -Bs -K -O \u0026gt;\u0026gt; $PS # 绘制 660 界面 gmt psbasemap -J$J -R$R -Byg6371+5711 -Bs -K -O \u0026gt;\u0026gt; $PS # 绘制 CMB gmt psbasemap -J$J -R$R -Byg6371+3480 -Bs -K -O \u0026gt;\u0026gt; $PS # 绘制 ICB gmt psbasemap -J$J -R$R -Byg6371+1221 -Bs -K -O \u0026gt;\u0026gt; $PS # 计算并绘制震相的射线路径 taup_path -mod prem -ph PcP -h 300 -deg 30 -o PcP.raypath taup_path -mod prem -ph PKiKP -h 300 -deg 30 -o PKiKP.raypath gmt psxy PcP.raypath.gmt -W1p,blue -J$J -R$R -K -O \u0026gt;\u0026gt; $PS gmt psxy PKiKP.raypath.gmt -W1p,red -J$J -R$R -K -O \u0026gt;\u0026gt; $PS # 绘制震源和台站位置 gmt psxy -J$J -R$R -S -Gblack -N -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF 0 6071 0.4c a 30 6471 0.4c i EOF # 添加标注 gmt pstext -J$J -R$R -F+f11p+a -N -K -O \u0026gt;\u0026gt; $PS \u0026lt;\u0026lt; EOF -6 6170 20 Surface -6 3280 20 CMB -3 1020 20 ICB 16 4100 0 @;blue;PcP@;; 37 1600 0 @;red;PKiKP@;; EOF gmt psxy -J$J -R$R -T -O \u0026gt;\u0026gt; $PS rm gmt.* *.raypath.gmt   脚本中使用了五个 psbasemap 命令分别绘制五个界面。\n 第一个 psbasemap 用于绘制地表， -Byg6371 表明要在 Y 方向（极坐标下即 R 方向） 以6371为间隔绘制网格线，由于地球半径是6371，所以理论上会在R=0和 R=6371 两处绘制网格线。 -Bs 的作用是只绘制 R=6371 处的网格线，且只绘制网格线而不绘制刻度； 第二个 pabasemap 用于绘制410界面，其与前一命令基本相同，唯一的区别是 -Byg6371+5961 中多了 +5961，其作用是定义网格线的起算点， 即此时将在 R=5961（即410界面）处绘制网格线。 其他同理  ","date":1472601600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1472601600,"objectID":"25409970c0ba7ed70710df712c1d6970","permalink":"https://gmt-china.org/example/ex002/","publishdate":"2016-08-31T00:00:00Z","relpermalink":"/example/ex002/","section":"example","summary":"在利用地震波研究地球深部结构时，经常需要绘制震相在深度剖面下的射线路径， 同时也需要绘制地球内部的主要界面。 震相的射线路径可以用 TauP 提供的 taup_path 命令","tags":["射线"],"title":"绘制地球内部主要界面","type":"post"},{"authors":["刘珠妹"],"categories":["社区动态"],"content":"经过本社区积极联系，GMT中国区镜像站点已于2016年7月6日正式建立，并已加入GMT官网镜像列表中。\n镜像地址：http://mirrors.ustc.edu.cn/gmt/\n该镜像站点依托中国科学技术大学LUG服务器，是 GMT 在亚洲地区第二个镜像站， 也是中国第一个镜像站。GMT国内镜像的建立，可以大大加快下载GMT源码及相关数据的 速度。\n进入 GMT 镜像即可直接下载 GMT 源码包，Windows/Mac 安装包位于镜像的 bin 目录下。 GMT提供的全球地形起伏数据位于 data 目录下。\n","date":1467936000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1467936000,"objectID":"2ad6d034cfef30d438df801a5cb1c166","permalink":"https://gmt-china.org/blog/mirror-site-founded/","publishdate":"2016-07-08T00:00:00Z","relpermalink":"/blog/mirror-site-founded/","section":"blog","summary":"GMT国内镜像正式建成","tags":["镜像"],"title":"GMT国内镜像正式建成","type":"post"},{"authors":null,"categories":null,"content":"            绘制三维地形图      绘制俯冲带地震分布      绘制InSAR形变速率场         《流浪地球》之GMT绘制三维地形轨迹图      绘制图中图      地球化学三角图解的绘制        用两套地形数据绘制夏威夷岛地形起伏图      绘制速度模型      绘制含地形起伏的地震剖面图           矢量及应力应变张量绘制      绘制自定义符号      绘制自定义符号       中国大陆及周边活动地块分布图      绘制GPS速度场      绘制指定测线的地震剖面图       绘制等高线图和剖面图      绘制M-T图      事件相对台站的震中距方位角分布图       含中国大陆地区的地形图      绘制晨昏线及太阳位置      中国一级河流数据       中国地震区域划分      中国断层数据      中国铁路线       中国省会城市分布图      中国国界、省界及十段线      中国国界、省界及十段线       震源机制分布图      绘制地球内部主要界面      ","date":1461110400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1461110400,"objectID":"665288c8761d48eb3366c37954243edc","permalink":"https://gmt-china.org/gallery/","publishdate":"2016-04-20T00:00:00Z","relpermalink":"/gallery/","section":"","summary":"绘制三维地形图 绘制俯冲带地震分布 绘制InSAR形变速率场 《流浪地球》之GMT绘制三维地形轨迹图 绘制图中图 地球化学三角图解的绘制 用两套地形数据","tags":null,"title":"图库","type":"page"},{"authors":["田冬冬"],"categories":["社区动态"],"content":" GMT的中文用户们，大家好，我是 seisman 。\nGMT中文社区于今日正式成立了！\nGMT中文社区是针对GMT中文用户而成立的社区。整个社区目前包含了三个主要部分： 社区主站、GMT中文手册和问答社区。\n在社区的第一篇博文中，我想谈谈建立这个社区的原因及一些想法。\nGMT中文手册 GMT中文手册的项目始于2014年，到2016年初已经初步成形。\n在2014年，网络上能够找到的几本GMT中文文档，大多基于GMT4甚至GMT3。 这几本文档存在一些明显的缺陷：\n 排版质量一般，大多是在Word里写好然后转换成PDF的 缺乏维护，几乎都是写好发布之后就没有再更新 不完整，很多有价值的内容都没有被包含在文档中 不严谨，很多文档声称是基于GMT4，但实际上某些命令却在使用GMT3的语法 无法适配最新版的GMT，某些时候对于新用户而言是一种障碍 重复劳动：不同的作者，花费了大量的时间和精力，翻译整理出了几份相似的文档， 这其中很多工作都是在重复劳动  因而，我于2014年开始写针对GMT5的中文手册。新的GMT中文手册具有如下特点：\n 开源：源代码用rST语言写成，并在GitHub上开源 高质量排版：文档有网页版和PDF版，保证高质量的排版（目前尚存在不足，见第5条） 完整性：尽可能覆盖GMT的方方面面，成为一个完整的参考手册（没有最完整，只有更完整，见第5条） 协同合作：依托强大的GitHub和Git，使得多人合作共同编辑同一份文档变得很简单 持续维护：不仅适配GMT的新版本，而且不断修正文档中存在的错误 严谨性：尽可能保证所有命令均通过GMT最新版本的测试  经过两年努力，文档的整体结构已经大体完成。我希望文档今后能够持续更新，不断完善， 不管是接下来的GMT 5.2.2、5.3.0还是未来的GMT 6.0甚至7.0，都能随着GMT版本的升级 而不断更新，但这些已非我一人之力所能完成。众人拾柴火焰高。我希望有更多的GMT中文 用户加入到文档维护的队伍中来，这便是我建立GMT中文社区的目的。\n问答社区  问答社区试运行了一段时间，但最终还是因为用户参与度较低而决定关闭问答社区。   GMT问答社区的前身是地学GMT学习群（群号：218905582）。QQ群属于即时通讯，通常在 群中提的问题都可以快速得到答案，但与此同时，QQ群存在如下缺点：\n 即时性导致的随意性：由于QQ本质上是一种聊天工具，导致很多人在提问时太过随意。 遇到问题时，不加思索在QQ群中提问，却不去思考如何提问，如何在提问时提供完整 有效的信息，如何在提问时解释清楚自己想要实现什么和遇到了什么问题。 QQ群中的很多提问都是如此，需要回答者多次向提问者发问才能搞清楚提问者的问题。 这不仅浪费了回答者的时间，也不利于提问者能力的提高。 多话题引起的错乱：经常遇到几个人同时提问，几个话题互相交叉，使得搞不清到底谁在回复谁 问答记录无法长期保存：只有用户接收到的消息会被保存到本地磁盘中，而对于 新加入的成员而言，则无法看到历史聊天记录 问答记录无法搜索：仅当聊天记录保存在本地磁盘中才能被搜索，无法通过搜索引擎检索 问答记录无法被非群成员搜索：有大量的GMT用户未加入群中，这些非成员则无法获取这些优质的问答资源 Linux用户提问不便：Linux下几乎没有可用的QQ客户端，导致众多Linux下的GMT用户 只能通过手机打字在群中提问，且只能通过手机拍照的方式上传屏幕截图  鉴于QQ群的以上几个缺点，萌生了建立问答社区的想法。希望这样一个问答社区可以解决QQ 群存在的问题。问答社区将努力保持高信噪比，专注于GMT的问与答。\nGMT中文社区 最初是计划把中文手册以及问答社区都放在我自己的博客域名之下的，但这样做一方面 不够正式，另一方面也会影响到我对于自己博客的整体定位。最终经过一番考量之后， 决定单独购买域名，建立GMT中文社区，然后将文档以及问答社区作为GMT中文社区的子项目。\n现在，整个GMT中文社区的基本框架已经搭建完毕。我希望它能顺利运行下去，也欢迎 更多的人提意见和建议，加入到整个社区的维护中来。\n最后，我要感谢王亮在整个社区的建立过程中和我交流与讨论，并给出了很多有意义的建议。 我还要感谢各种开源服务，我的工作是建立在它们之上的。我也希望华语地学界有更多的 人了解开源、认同开源、热爱开源并最终参与到开源中来。\n","date":1459900800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1550016000,"objectID":"5843da18699ae5e98b308f7d0b133026","permalink":"https://gmt-china.org/blog/gmt-china-community-founded/","publishdate":"2016-04-06T00:00:00Z","relpermalink":"/blog/gmt-china-community-founded/","section":"blog","summary":"GMT中文社区于今日正式成立了！","tags":null,"title":"GMT中文社区正式成立","type":"post"}]